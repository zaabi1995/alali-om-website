import{r as n,j as e}from"./index-D8GYIxkt.js";import{X as j,b,aA as y,aB as h,aD as P,ai as R,ar as k,ay as B,ak as E}from"./IdurarOs-Bp7g4t32.js";import{C as S}from"./index-12GqBLyk.js";import{F as I}from"./Table-C95qK4fz.js";import{T as z}from"./index-BapNQfCS.js";import{j as M}from"./ErpApp-eMQ7IvFe.js";import{R as L}from"./ReloadOutlined-BgI3veQX.js";import"./Skeleton-BCG8SEaS.js";import"./index-BYBg9C3K.js";import"./PlusOutlined-BPzt_4wX.js";import"./pickAttrs-Cgu4o-jt.js";import"./index-B6OjbFu5.js";import"./DownOutlined-PDxVrbmf.js";import"./useClosable-Cp59dJiR.js";var $={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"},H=function(r,c){return n.createElement(j,b({},r,{ref:c,icon:$}))};const T=n.forwardRef(H);var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},_=function(r,c){return n.createElement(j,b({},r,{ref:c,icon:V}))};const D=n.forwardRef(_);function G(){var s,r;try{const c=(r=(s=JSON.parse(localStorage.getItem("auth")||"{}"))==null?void 0:s.current)==null?void 0:r.token;return c?{Authorization:`Bearer ${c}`}:{}}catch{return{}}}const{Title:N,Text:m}=k;function c1(){const[s,r]=n.useState([]),[c,p]=n.useState(!0),[i,w]=n.useState({current:1,pageSize:25,total:0}),[v,C]=n.useState(""),[d,x]=n.useState(""),o=async(t=1,a=v)=>{p(!0);const l=new URLSearchParams({page:t,items:25,...a&&{fields:"companyName,website,country,contactEmail",q:a}}),u=await(await fetch(B+`vendor/list?${l}`,{headers:G()})).json();u.success!==!1&&(r(u.result||[]),w(O=>{var g;return{...O,current:t,total:((g=u.pagination)==null?void 0:g.count)||0}})),p(!1)};n.useEffect(()=>{o()},[]);const f=()=>{C(d),o(1,d)},A=[{title:"Supplier Name",dataIndex:"companyName",key:"companyName",render:(t,a)=>{var l;return e.jsxs("div",{children:[e.jsx(m,{strong:!0,style:{color:"#034D57",fontSize:13},children:t||"—"}),a.website&&e.jsx("div",{children:e.jsxs("a",{href:a.website.startsWith("http")?a.website:`https://${a.website}`,target:"_blank",rel:"noreferrer",style:{fontSize:11,color:"#1890ff"},children:[e.jsx(T,{})," ",(l=a.website)==null?void 0:l.replace(/^https?:\/\//,"")]})})]})}},{title:"Country",dataIndex:"country",key:"country",width:100,render:t=>t?e.jsx(z,{style:{fontSize:11},children:t}):"—"},{title:"Contact",key:"contact",width:220,render:(t,a)=>e.jsxs(M,{direction:"vertical",size:2,children:[a.contactEmail&&e.jsxs(m,{style:{fontSize:12},children:[e.jsx(E,{})," ",a.contactEmail]}),a.contactPhone&&e.jsxs(m,{style:{fontSize:12},children:[e.jsx(D,{})," ",a.contactPhone]})]})},{title:"Specialties",dataIndex:"specialties",key:"specialties",ellipsis:!0,render:t=>Array.isArray(t)&&t.length?t.slice(0,3).map((a,l)=>e.jsx(z,{style:{fontSize:11,margin:"1px 2px"},children:a},l)):"—"},{title:"Added",dataIndex:"created",key:"created",width:100,render:t=>t?new Date(t).toLocaleDateString("en-GB"):"—"}];return e.jsxs("div",{style:{paddingBottom:24},children:[e.jsx(y,{justify:"space-between",align:"middle",style:{marginBottom:16},children:e.jsx(h,{children:e.jsxs(N,{level:4,style:{margin:0,color:"#034D57"},children:["Suppliers — ",i.total.toLocaleString()]})})}),e.jsx(S,{style:{marginBottom:16,borderRadius:8},bodyStyle:{padding:"12px 16px"},children:e.jsxs(y,{gutter:[8,8],align:"middle",children:[e.jsx(h,{xs:24,sm:12,md:8,children:e.jsx(P.Search,{placeholder:"Search by name, country, website...",value:d,onChange:t=>x(t.target.value),onSearch:f,onPressEnter:f,allowClear:!0,onClear:()=>{x(""),o(1,"")}})}),e.jsx(h,{children:e.jsx(R,{icon:e.jsx(L,{}),onClick:()=>o(),children:"Refresh"})})]})}),e.jsx(S,{style:{borderRadius:8},bodyStyle:{padding:0},children:e.jsx("div",{style:{overflowX:"auto"},children:e.jsx(I,{dataSource:s,columns:A,rowKey:"_id",loading:c,size:"small",pagination:{current:i.current,pageSize:i.pageSize,total:i.total,showSizeChanger:!1,showTotal:t=>`${t} suppliers`,onChange:t=>o(t)}})})})]})}export{c1 as default};
