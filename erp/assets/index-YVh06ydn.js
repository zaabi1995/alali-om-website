import{m as v,o as C,r as u,j as e}from"./index-a37ismZU.js";import{a as l}from"./omrFormat-B8JISRmA.js";import{d as b}from"./dayjs.min-CCtd8gab.js";import{ay as f,ai as c,aw as A,aA as E,aB as n,ar as T}from"./IdurarOs-W8fmhLsD.js";import{k as j}from"./ErpApp-CFM6gh8w.js";import{P as I}from"./index-BArq8LD5.js";import{C as r}from"./index-CeXoAbLC.js";import{S as m}from"./index-CuLWplIt.js";import{T as g}from"./index-BCo7h2qh.js";import{D as s}from"./index-G6GtSLsz.js";import{s as R}from"./index-D5xfM3h1.js";import{A as k}from"./ArrowLeftOutlined-ChlqfIMQ.js";import{D as z}from"./DeleteOutlined-BzQxZkxi.js";import"./ActionButton-Dc1xVUU3.js";import"./Skeleton-BrS-oYXJ.js";import"./index-LF8WkdTU.js";import"./PlusOutlined-GlmA91S_.js";import"./pickAttrs-C6lZBGt9.js";import"./useClosable-Y2cD7JVn.js";const{Title:B}=T;function y(){return{Authorization:`Bearer ${localStorage.getItem("x-auth-token")}`}}const M={draft:"default",approved:"blue",paid:"green",rejected:"red"},O={salaries:"Salaries",rent:"Rent",travel:"Travel",office:"Office Supplies",utilities:"Utilities",bank_charges:"Bank Charges",marketing:"Marketing",maintenance:"Maintenance",insurance:"Insurance",professional_fees:"Professional Fees",customs_duties:"Customs & Duties",shipping:"Shipping",telecommunications:"Telecom",other:"Other"};function ee(){var d,x,p,h;const o=v(),{id:i}=C(),[t,S]=u.useState(null);u.useEffect(()=>{fetch(f+`expense/read/${i}`,{headers:y()}).then(a=>a.json()).then(a=>{a.success&&S(a.result)}).catch(()=>{})},[i]);const D=async()=>{await fetch(f+`expense/delete/${i}`,{method:"DELETE",headers:y()}),R.success("Deleted"),o("/expense")};return t?e.jsxs("div",{style:{padding:24,maxWidth:800},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsxs(j,{children:[e.jsx(c,{icon:e.jsx(k,{}),onClick:()=>o("/expense")}),e.jsxs(B,{level:4,style:{margin:0,color:"#034D57"},children:["EXP-",t.number]})]}),e.jsxs(j,{children:[e.jsx(c,{icon:e.jsx(A,{}),onClick:()=>o(`/expense/edit/${i}`),children:"Edit"}),e.jsx(I,{title:"Delete this expense?",onConfirm:D,children:e.jsx(c,{danger:!0,icon:e.jsx(z,{}),children:"Delete"})})]})]}),e.jsxs(E,{gutter:12,style:{marginBottom:16},children:[e.jsx(n,{xs:12,sm:6,children:e.jsx(r,{size:"small",children:e.jsx(m,{title:"Amount",value:parseFloat(t.amount||0).toFixed(3),suffix:l(),valueStyle:{color:"#034D57"}})})}),e.jsx(n,{xs:12,sm:6,children:e.jsx(r,{size:"small",children:e.jsx(m,{title:"VAT",value:parseFloat(t.taxAmount||0).toFixed(3),suffix:l()})})}),e.jsx(n,{xs:12,sm:6,children:e.jsx(r,{size:"small",children:e.jsx(m,{title:"Total",value:parseFloat(t.total||0).toFixed(3),suffix:l(),valueStyle:{color:"#034D57",fontWeight:700}})})}),e.jsx(n,{xs:12,sm:6,children:e.jsxs(r,{size:"small",style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"#888"},children:"Status"}),e.jsx(g,{color:M[t.status],style:{marginTop:6},children:(d=t.status)==null?void 0:d.toUpperCase()})]})})]}),e.jsx(r,{size:"small",children:e.jsxs(s,{column:{xs:1,sm:2},bordered:!0,size:"small",children:[e.jsx(s.Item,{label:"Description",children:t.description}),e.jsx(s.Item,{label:"Category",children:e.jsx(g,{children:O[t.category]||t.category})}),e.jsx(s.Item,{label:"Date",children:b(t.date).format("DD MMM YYYY")}),e.jsx(s.Item,{label:"Payment Method",children:(x=t.paymentMethod)==null?void 0:x.replace(/_/g," ")}),e.jsx(s.Item,{label:"Reference",children:t.reference||"—"}),e.jsx(s.Item,{label:"Vendor",children:((p=t.vendor)==null?void 0:p.companyName)||"—"}),e.jsx(s.Item,{label:"Project",children:((h=t.project)==null?void 0:h.name)||"—"}),t.notes&&e.jsx(s.Item,{label:"Notes",span:2,children:t.notes})]})})]}):e.jsx("div",{style:{padding:24},children:"Loading…"})}export{ee as default};
