import{r as i,c as ae,n as te,u as ne,j as t}from"./index-CqiROrvI.js";import{c as k}from"./actions-Bapmumrj.js";import{a as G,C as Xe}from"./index-BoZ-w-p5.js";import{M as ea,b as ve,c as O,d as _,L as aa,e as Ce,V as we,F as Ze,B as xe,g as ke,aK as ta,a as Se,j as na,m as la,k as ce,$ as oa,a1 as ia,aL as ra,ac as sa,y as Me,aG as ee,aJ as Te,ai as J,am as ue,aj as Pe,aE as ca,aF as ua,aA as pe,aB as z,aM as da,av as ma,aw as Oe,aD as ba,al as va}from"./IdurarOs-U9s3-I7Z.js";import{d as X}from"./dayjs.min-C_IV7Sgr.js";import{v as _e,R as pa}from"./helpers-D_FYdwVv.js";import{u as fa,M as ha}from"./index-DHFPD-aK.js";import{s as ye}from"./index-KrFx5yLV.js";import{c as Aa}from"./color-CnuJOIlI.js";import{S as ga}from"./index-CLh8yk2-.js";import{T as F}from"./index-DAwtC9M-.js";import{u as xa}from"./useMoney-BTwymRdj.js";import{u as Ca,D as ya,E as Sa}from"./ErpApp-DC-1NaCs.js";import{u as Le}from"./useDate-0NkiTcwq.js";import{u as Ea}from"./useDebounce-BemMmqyq.js";import{S as Be,E as ja}from"./index-BS7qSh2D.js";import{P as wa}from"./index-DXnAftqd.js";import{D as Re}from"./DeleteOutlined-CRGFtP6z.js";import{A as Za}from"./ArrowLeftOutlined-Bf589eXO.js";import{F as ka}from"./Table-B6txZ5Lc.js";import{p as Ma}from"./pickAttrs-CYJKFN78.js";import{u as Ba}from"./useClosable-BJjLAl2J.js";import{P as Ia}from"./PlusOutlined-CcJquEGz.js";function Na(){return Ca()}const Da={useBreakpoint:Na};var Ie=i.createContext(null),$e=i.createContext({}),Ta=function(a){var s=a.prefixCls,l=a.className,c=a.style,o=a.children,n=a.containerRef,d=a.id,h=a.onMouseEnter,f=a.onMouseOver,g=a.onMouseLeave,b=a.onClick,r=a.onKeyDown,u=a.onKeyUp,m={onMouseEnter:h,onMouseOver:f,onMouseLeave:g,onClick:b,onKeyDown:r,onKeyUp:u},A=i.useContext($e),p=A.panel,C=ea(p,n);return i.createElement(i.Fragment,null,i.createElement("div",ve({id:d,className:O("".concat(s,"-content"),l),style:_({},c),"aria-modal":"true",role:"dialog",ref:C},m),o))};function Ne(e){return typeof e=="string"&&String(Number(e))===e?(aa(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var De={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Pa(e,a){var s,l,c,o=e.prefixCls,n=e.open,d=e.placement,h=e.inline,f=e.push,g=e.forceRender,b=e.autoFocus,r=e.keyboard,u=e.classNames,m=e.rootClassName,A=e.rootStyle,p=e.zIndex,C=e.className,y=e.id,v=e.style,j=e.motion,w=e.width,S=e.height,E=e.children,N=e.mask,Y=e.maskClosable,U=e.maskMotion,D=e.maskClassName,L=e.maskStyle,R=e.afterOpenChange,Z=e.onClose,x=e.onMouseEnter,T=e.onMouseOver,$=e.onMouseLeave,oe=e.onClick,de=e.onKeyDown,me=e.onKeyUp,B=e.styles,H=i.useRef(),K=i.useRef(),W=i.useRef();i.useImperativeHandle(a,function(){return H.current});var be=function(P){var re=P.keyCode,se=P.shiftKey;switch(re){case xe.TAB:{if(re===xe.TAB){if(!se&&document.activeElement===W.current){var Ae;(Ae=K.current)===null||Ae===void 0||Ae.focus({preventScroll:!0})}else if(se&&document.activeElement===K.current){var ge;(ge=W.current)===null||ge===void 0||ge.focus({preventScroll:!0})}}break}case xe.ESC:{Z&&r&&(P.stopPropagation(),Z(P));break}}};i.useEffect(function(){if(n&&b){var M;(M=H.current)===null||M===void 0||M.focus({preventScroll:!0})}},[n]);var he=i.useState(!1),fe=Ce(he,2),Ee=fe[0],ie=fe[1],I=i.useContext(Ie),V;f===!1?V={distance:0}:f===!0?V={}:V=f||{};var q=(s=(l=(c=V)===null||c===void 0?void 0:c.distance)!==null&&l!==void 0?l:I==null?void 0:I.pushDistance)!==null&&s!==void 0?s:180,We=i.useMemo(function(){return{pushDistance:q,push:function(){ie(!0)},pull:function(){ie(!1)}}},[q]);i.useEffect(function(){if(n){var M;I==null||(M=I.push)===null||M===void 0||M.call(I)}else{var P;I==null||(P=I.pull)===null||P===void 0||P.call(I)}},[n]),i.useEffect(function(){return function(){var M;I==null||(M=I.pull)===null||M===void 0||M.call(I)}},[]);var Ve=N&&i.createElement(we,ve({key:"mask"},U,{visible:n}),function(M,P){var re=M.className,se=M.style;return i.createElement("div",{className:O("".concat(o,"-mask"),re,u==null?void 0:u.mask,D),style:_(_(_({},se),L),B==null?void 0:B.mask),onClick:Y&&n?Z:void 0,ref:P})}),Je=typeof j=="function"?j(d):j,Q={};if(Ee&&q)switch(d){case"top":Q.transform="translateY(".concat(q,"px)");break;case"bottom":Q.transform="translateY(".concat(-q,"px)");break;case"left":Q.transform="translateX(".concat(q,"px)");break;default:Q.transform="translateX(".concat(-q,"px)");break}d==="left"||d==="right"?Q.width=Ne(w):Q.height=Ne(S);var qe={onMouseEnter:x,onMouseOver:T,onMouseLeave:$,onClick:oe,onKeyDown:de,onKeyUp:me},Qe=i.createElement(we,ve({key:"panel"},Je,{visible:n,forceRender:g,onVisibleChanged:function(P){R==null||R(P)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden")}),function(M,P){var re=M.className,se=M.style;return i.createElement("div",ve({className:O("".concat(o,"-content-wrapper"),u==null?void 0:u.wrapper,re),style:_(_(_({},Q),se),B==null?void 0:B.wrapper)},Ma(e,{data:!0})),i.createElement(Ta,ve({id:y,containerRef:P,prefixCls:o,className:O(C,u==null?void 0:u.content),style:_(_({},v),B==null?void 0:B.content)},qe),E))}),je=_({},A);return p&&(je.zIndex=p),i.createElement(Ie.Provider,{value:We},i.createElement("div",{className:O(o,"".concat(o,"-").concat(d),m,Ze(Ze({},"".concat(o,"-open"),n),"".concat(o,"-inline"),h)),style:je,tabIndex:-1,ref:H,onKeyDown:be},Ve,i.createElement("div",{tabIndex:0,ref:K,style:De,"aria-hidden":"true","data-sentinel":"start"}),Qe,i.createElement("div",{tabIndex:0,ref:W,style:De,"aria-hidden":"true","data-sentinel":"end"})))}var Oa=i.forwardRef(Pa),_a=function(a){var s=a.open,l=s===void 0?!1:s,c=a.prefixCls,o=c===void 0?"rc-drawer":c,n=a.placement,d=n===void 0?"right":n,h=a.autoFocus,f=h===void 0?!0:h,g=a.keyboard,b=g===void 0?!0:g,r=a.width,u=r===void 0?378:r,m=a.mask,A=m===void 0?!0:m,p=a.maskClosable,C=p===void 0?!0:p,y=a.getContainer,v=a.forceRender,j=a.afterOpenChange,w=a.destroyOnClose,S=a.onMouseEnter,E=a.onMouseOver,N=a.onMouseLeave,Y=a.onClick,U=a.onKeyDown,D=a.onKeyUp,L=a.panelRef,R=i.useState(!1),Z=Ce(R,2),x=Z[0],T=Z[1],$=i.useState(!1),oe=Ce($,2),de=oe[0],me=oe[1];ke(function(){me(!0)},[]);var B=de?l:!1,H=i.useRef(),K=i.useRef();ke(function(){B&&(K.current=document.activeElement)},[B]);var W=function(ie){var I;if(T(ie),j==null||j(ie),!ie&&K.current&&!((I=H.current)!==null&&I!==void 0&&I.contains(K.current))){var V;(V=K.current)===null||V===void 0||V.focus({preventScroll:!0})}},be=i.useMemo(function(){return{panel:L}},[L]);if(!v&&!x&&!B&&w)return null;var he={onMouseEnter:S,onMouseOver:E,onMouseLeave:N,onClick:Y,onKeyDown:U,onKeyUp:D},fe=_(_({},a),{},{open:B,prefixCls:o,placement:d,autoFocus:f,keyboard:b,width:u,mask:A,maskClosable:C,inline:y===!1,afterOpenChange:W,ref:H},he);return i.createElement($e.Provider,{value:be},i.createElement(ta,{open:B||v||x,autoDestroy:!1,getContainer:y,autoLock:A&&(B||x)},i.createElement(Oa,fe)))};const Ke=e=>{var a,s;const{prefixCls:l,title:c,footer:o,extra:n,closeIcon:d,closable:h,onClose:f,headerStyle:g,bodyStyle:b,footerStyle:r,children:u,classNames:m,styles:A}=e,{drawer:p}=i.useContext(Se),C=i.useCallback(S=>i.createElement("button",{type:"button",onClick:f,"aria-label":"Close",className:`${l}-close`},S),[f]),[y,v]=Ba(h,typeof d<"u"?d:p==null?void 0:p.closeIcon,C,void 0,!0),j=i.useMemo(()=>{var S,E;return!c&&!y?null:i.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(S=p==null?void 0:p.styles)===null||S===void 0?void 0:S.header),g),A==null?void 0:A.header),className:O(`${l}-header`,{[`${l}-header-close-only`]:y&&!c&&!n},(E=p==null?void 0:p.classNames)===null||E===void 0?void 0:E.header,m==null?void 0:m.header)},i.createElement("div",{className:`${l}-header-title`},v,c&&i.createElement("div",{className:`${l}-title`},c)),n&&i.createElement("div",{className:`${l}-extra`},n))},[y,v,n,g,l,c]),w=i.useMemo(()=>{var S,E;if(!o)return null;const N=`${l}-footer`;return i.createElement("div",{className:O(N,(S=p==null?void 0:p.classNames)===null||S===void 0?void 0:S.footer,m==null?void 0:m.footer),style:Object.assign(Object.assign(Object.assign({},(E=p==null?void 0:p.styles)===null||E===void 0?void 0:E.footer),r),A==null?void 0:A.footer)},o)},[o,r,l]);return i.createElement(i.Fragment,null,j,i.createElement("div",{className:O(`${l}-body`,m==null?void 0:m.body,(a=p==null?void 0:p.classNames)===null||a===void 0?void 0:a.body),style:Object.assign(Object.assign(Object.assign({},(s=p==null?void 0:p.styles)===null||s===void 0?void 0:s.body),b),A==null?void 0:A.body)},u),w)},La=e=>{const a="100%";return{left:`translateX(-${a})`,right:`translateX(${a})`,top:`translateY(-${a})`,bottom:`translateY(${a})`}[e]},Ge=(e,a)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":a}),"&-leave":Object.assign(Object.assign({},a),{"&-active":e})}),He=(e,a)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${a}`}}},Ge({opacity:e},{opacity:1})),Ra=(e,a)=>[He(.7,a),Ge({transform:La(e)},{transform:"none"})],$a=e=>{const{componentCls:a,motionDurationSlow:s}=e;return{[a]:{[`${a}-mask-motion`]:He(0,s),[`${a}-panel-motion`]:["left","right","top","bottom"].reduce((l,c)=>Object.assign(Object.assign({},l),{[`&-${c}`]:Ra(c,s)}),{})}}},Ka=e=>{const{componentCls:a,zIndexPopup:s,colorBgMask:l,colorBgElevated:c,motionDurationSlow:o,motionDurationMid:n,padding:d,paddingLG:h,fontSizeLG:f,lineHeightLG:g,lineWidth:b,lineType:r,colorSplit:u,marginSM:m,colorIcon:A,colorIconHover:p,colorText:C,fontWeightStrong:y,footerPaddingBlock:v,footerPaddingInline:j}=e,w=`${a}-content-wrapper`;return{[a]:{position:"fixed",inset:0,zIndex:s,pointerEvents:"none","&-pure":{position:"relative",background:c,display:"flex",flexDirection:"column",[`&${a}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${a}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${a}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${a}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${a}-mask`]:{position:"absolute",inset:0,zIndex:s,background:l,pointerEvents:"auto"},[w]:{position:"absolute",zIndex:s,maxWidth:"100vw",transition:`all ${o}`,"&-hidden":{display:"none"}},[`&-left > ${w}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${w}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${w}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${w}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${a}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:c,pointerEvents:"auto"},[`${a}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${ce(d)} ${ce(h)}`,fontSize:f,lineHeight:g,borderBottom:`${ce(b)} ${r} ${u}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${a}-extra`]:{flex:"none"},[`${a}-close`]:{display:"inline-block",marginInlineEnd:m,color:A,fontWeight:y,fontSize:f,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${n}`,textRendering:"auto","&:focus, &:hover":{color:p,textDecoration:"none"}},[`${a}-title`]:{flex:1,margin:0,color:C,fontWeight:e.fontWeightStrong,fontSize:f,lineHeight:g},[`${a}-body`]:{flex:1,minWidth:0,minHeight:0,padding:h,overflow:"auto"},[`${a}-footer`]:{flexShrink:0,padding:`${ce(v)} ${ce(j)}`,borderTop:`${ce(b)} ${r} ${u}`},"&-rtl":{direction:"rtl"}}}},Ga=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Fe=na("Drawer",e=>{const a=la(e,{});return[Ka(a),$a(a)]},Ga);var ze=function(e,a){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.indexOf(l)<0&&(s[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(e);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(e,l[c])&&(s[l[c]]=e[l[c]]);return s};const Ha={distance:180},Ye=e=>{const{rootClassName:a,width:s,height:l,size:c="default",mask:o=!0,push:n=Ha,open:d,afterOpenChange:h,onClose:f,prefixCls:g,getContainer:b,style:r,className:u,visible:m,afterVisibleChange:A,maskStyle:p,drawerStyle:C,contentWrapperStyle:y}=e,v=ze(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:j,getPrefixCls:w,direction:S,drawer:E}=i.useContext(Se),N=w("drawer",g),[Y,U,D]=Fe(N),L=b===void 0&&j?()=>j(document.body):b,R=O({"no-mask":!o,[`${N}-rtl`]:S==="rtl"},a,U,D),Z=i.useMemo(()=>s??(c==="large"?736:378),[s,c]),x=i.useMemo(()=>l??(c==="large"?736:378),[l,c]),T={motionName:Me(N,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},$=be=>({motionName:Me(N,`panel-motion-${be}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),oe=fa(),[de,me]=oa("Drawer",v.zIndex),{classNames:B={},styles:H={}}=v,{classNames:K={},styles:W={}}=E||{};return Y(i.createElement(ia,null,i.createElement(ra,{status:!0,override:!0},i.createElement(sa.Provider,{value:me},i.createElement(_a,Object.assign({prefixCls:N,onClose:f,maskMotion:T,motion:$},v,{classNames:{mask:O(B.mask,K.mask),content:O(B.content,K.content)},styles:{mask:Object.assign(Object.assign(Object.assign({},H.mask),p),W.mask),content:Object.assign(Object.assign(Object.assign({},H.content),C),W.content),wrapper:Object.assign(Object.assign(Object.assign({},H.wrapper),y),W.wrapper)},open:d??m,mask:o,push:n,width:Z,height:x,style:Object.assign(Object.assign({},E==null?void 0:E.style),r),className:O(E==null?void 0:E.className,u),rootClassName:R,getContainer:L,afterOpenChange:h??A,panelRef:oe,zIndex:de}),i.createElement(Ke,Object.assign({prefixCls:N},v,{onClose:f})))))))},Fa=e=>{const{prefixCls:a,style:s,className:l,placement:c="right"}=e,o=ze(e,["prefixCls","style","className","placement"]),{getPrefixCls:n}=i.useContext(Se),d=n("drawer",a),[h,f,g]=Fe(d),b=O(d,`${d}-pure`,`${d}-${c}`,f,g,l);return h(i.createElement("div",{className:b,style:s},i.createElement(Ke,Object.assign({prefixCls:d},o))))};Ye._InternalPanelDoNotUseOrYouWillBeFired=Fa;const le=e=>e.crud,Ue=ae([le],e=>e.current),za=ae([le],e=>e.list),Ya=ae([le],e=>e.create),Ua=ae([le],e=>e.update);ae([le],e=>e.read);const Wa=ae([le],e=>e.delete),Va=ae([le],e=>e.search);function Ja({config:e,formElements:a,withUpload:s=!1}){let{entity:l}=e;const c=te(),{isLoading:o,isSuccess:n}=ne(Ya),{crudContextAction:d}=G(),{panel:h,collapsedBox:f,readBox:g}=d,[b]=ee.useForm(),r=ue(),u=m=>{m.file&&s&&(m.file=m.file[0].originFileObj),c(k.create({entity:l,jsonData:m,withUpload:s}))};return i.useEffect(()=>{n&&(g.open(),f.open(),h.open(),b.resetFields(),c(k.resetAction({actionType:"create"})),c(k.list({entity:l})))},[n]),t.jsx(Te,{isLoading:o,children:t.jsxs(ee,{form:b,layout:"vertical",onFinish:u,children:[a,t.jsx(ee.Item,{children:t.jsx(J,{type:"primary",htmlType:"submit",children:r("Submit")})})]})})}function qa({config:e,formElements:a,withUpload:s=!1}){let{entity:l}=e;const c=ue(),o=te(),{current:n,isLoading:d,isSuccess:h}=ne(Ua),{state:f,crudContextAction:g}=G(),{panel:b,collapsedBox:r,readBox:u}=g,m=()=>{u.open()},[A]=ee.useForm(),p=v=>{const j=n._id;v.file&&s&&(v.file=v.file[0].originFileObj),o(k.update({entity:l,id:j,jsonData:v,withUpload:s}))};i.useEffect(()=>{if(n){let v={...n};v.birthday&&(v={...v,birthday:X(v.birthday).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),v.date&&(v={...v,date:X(v.date).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),v.expiredDate&&(v={...v,expiredDate:X(v.expiredDate).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),v.created&&(v={...v,created:X(v.created).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),v.updated&&(v={...v,updated:X(v.updated).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),A.resetFields(),A.setFieldsValue(v)}},[n]),i.useEffect(()=>{h&&(u.open(),r.open(),b.open(),A.resetFields(),o(k.resetAction({actionType:"update"})),o(k.list({entity:l})))},[h]);const{isEditBoxOpen:C}=f,y=C?{display:"block",opacity:1}:{display:"none",opacity:0};return t.jsx("div",{style:y,children:t.jsx(Te,{isLoading:d,children:t.jsxs(ee,{form:A,layout:"vertical",onFinish:p,children:[a,t.jsx(ee.Item,{style:{display:"inline-block",paddingRight:"5px"},children:t.jsx(J,{type:"primary",htmlType:"submit",children:c("Save")})}),t.jsx(ee.Item,{style:{display:"inline-block",paddingLeft:"5px"},children:t.jsx(J,{onClick:m,children:c("Cancel")})})]})})})}function Qa({config:e}){const a=ue();let{entity:s,deleteModalLabels:l,deleteMessage:c=a("are_you_sure_you_want_to_delete"),modalTitle:o=a("delete_confirmation")}=e;const n=te(),{current:d,isLoading:h,isSuccess:f}=ne(Wa),{state:g,crudContextAction:b}=G(),{appContextAction:r}=Pe(),{panel:u,readBox:m}=b,{navMenu:A}=r,{isModalOpen:p}=g,{modal:C}=b,[y,v]=i.useState("");i.useEffect(()=>{if(f&&(console.log("ðŸš€ ~ useEffect ~ DeleteModal isSuccess:",f),C.close(),n(k.list({entity:s}))),d){let S=l.map(E=>_e(d,E)).join(" ");v(S)}},[f,d]);const j=()=>{const S=d._id;n(k.delete({entity:s,id:S})),m.close(),C.close(),u.close(),A.collapse()},w=()=>{h||C.close()};return t.jsx(ha,{title:o,open:p,onOk:j,onCancel:w,confirmLoading:h,children:t.jsxs("p",{children:[c,y]})})}const Xa=[{label:"Afghanistan",value:"AF",timeZone:["Asia/Kabul"]},{label:"Albania",value:"AL",timeZone:["Europe/Tirane"]},{label:"Algeria",value:"DZ",timeZone:["Africa/Algiers"]},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Argentina",value:"AR",timeZone:["America/Argentina/Buenos_Aires","America/Argentina/Cordoba","America/Argentina/Salta","America/Argentina/Jujuy","America/Argentina/Tucuman","America/Argentina/Catamarca","America/Argentina/La_Rioja","America/Argentina/San_Juan","America/Argentina/Mendoza","America/Argentina/San_Luis","America/Argentina/Rio_Gallegos","America/Argentina/Ushuaia"]},{label:"Armenia",value:"AM",timeZone:["Asia/Yerevan"]},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU",timeZone:["Australia/Lord_Howe","Antarctica/Macquarie","Australia/Hobart","Australia/Currie","Australia/Melbourne","Australia/Sydney","Australia/Broken_Hill","Australia/Brisbane","Australia/Lindeman","Australia/Adelaide","Australia/Darwin","Australia/Perth","Australia/Eucla"]},{label:"Austria",value:"AT",timeZone:["Europe/Vienna"]},{label:"Azerbaijan",value:"AZ",timeZone:["Asia/Baku"]},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH",timeZone:["Asia/Bahrain"]},{label:"Bangladesh",value:"BD",timeZone:["Asia/Dhaka"]},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY",timeZone:["Europe/Minsk"]},{label:"Belgium",value:"BE",timeZone:["Europe/Brussels"]},{label:"Belize",value:"BZ",timeZone:["America/Belize"]},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT",timeZone:["Asia/Thimphu"]},{label:"Bolivia",value:"BO",timeZone:["America/La_Paz"]},{label:"Bosnia and Herzegovina",value:"BA",timeZone:["Europe/Sarajevo"]},{label:"Botswana",value:"BW",timeZone:["Africa/Gaborone"]},{label:"Brazil",value:"BR",timeZone:["America/Noronha","America/Belem","America/Fortaleza","America/Recife","America/Araguaina","America/Maceio","America/Bahia","America/Sao_Paulo","America/Campo_Grande","America/Cuiaba","America/Santarem","America/Porto_Velho","America/Boa_Vista","America/Manaus","America/Eirunepe","America/Rio_Branco"]},{label:"Brunei Darussalam",value:"BN",timeZone:["Asia/Brunei"]},{label:"Bulgaria",value:"BG",timeZone:["Europe/Sofia"]},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cabo Verde",value:"CV"},{label:"Cambodia",value:"KH",timeZone:["Asia/Phnom_Penh"]},{label:"Cameroon",value:"CM",timeZone:["Africa/Douala"]},{label:"Canada",value:"CA",timeZone:["America/St_Johns","America/Halifax","America/Glace_Bay","America/Moncton","America/Goose_Bay","America/Blanc-Sablon","America/Toronto","America/Nipigon","America/Thunder_Bay","America/Iqaluit","America/Pangnirtung","America/Atikokan","America/Winnipeg","America/Rainy_River","America/Resolute","America/Rankin_Inlet","America/Regina","America/Swift_Current","America/Edmonton","America/Cambridge_Bay","America/Yellowknife","America/Inuvik","America/Creston","America/Dawson_Creek","America/Fort_Nelson","America/Vancouver","America/Whitehorse","America/Dawson"]},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL",timeZone:["America/Santiago","Pacific/Easter"]},{label:"China",value:"CN",timeZone:["Asia/Shanghai","Asia/Urumqi"]},{label:"Colombia",value:"CO",timeZone:["America/Bogota"]},{label:"Comoros",value:"KM"},{label:"Congo",value:"CD",timeZone:["Africa/Kinshasa","Africa/Lubumbashi"]},{label:"Congo",value:"CG"},{label:"Costa Rica",value:"CR",timeZone:["America/Costa_Rica"]},{label:"Croatia",value:"HR",timeZone:["Europe/Zagreb"]},{label:"Cuba",value:"CU",timeZone:["America/Havana"]},{label:"Cyprus",value:"CY"},{label:"Czechia",value:"CZ",timeZone:["Europe/Prague"]},{label:"Cote d Ivoire",value:"CI",timeZone:["Africa/Abidjan"]},{label:"Denmark",value:"DK",timeZone:["Europe/Copenhagen"]},{label:"Djibouti",value:"DJ",timeZone:["Africa/Djibouti"]},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO",timeZone:["America/Santo_Domingo"]},{label:"Ecuador",value:"EC",timeZone:["America/Guayaquil","Pacific/Galapagos"]},{label:"Egypt",value:"EG",timeZone:["Africa/Cairo"]},{label:"El Salvador",value:"SV",timeZone:["America/El_Salvador"]},{label:"Eritrea",value:"ER",timeZone:["Africa/Asmara"]},{label:"Estonia",value:"EE",timeZone:["Europe/Tallinn"]},{label:"Eswatini",value:"SZ"},{label:"Ethiopia",value:"ET",timeZone:["Africa/Addis_Ababa"]},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI",timeZone:["Europe/Helsinki"]},{label:"France",value:"FR",timeZone:["Europe/Paris"]},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE",timeZone:["Asia/Tbilisi"]},{label:"Germany",value:"DE",timeZone:["Europe/Berlin","Europe/Busingen"]},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR",timeZone:["Europe/Athens"]},{label:"Greenland",value:"GL",timeZone:["America/Godthab","America/Danmarkshavn","America/Scoresbysund","America/Thule"]},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT",timeZone:["America/Guatemala"]},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT",timeZone:["America/Port-au-Prince"]},{label:"Honduras",value:"HN",timeZone:["America/Tegucigalpa"]},{label:"Hong Kong",value:"HK",timeZone:["Asia/Hong_Kong"]},{label:"Hungary",value:"HU",timeZone:["Europe/Budapest"]},{label:"Iceland",value:"IS",timeZone:["Atlantic/Reykjavik"]},{value:"IN",label:"India",timeZone:["Asia/Kolkata"]},{value:"ID",label:"Indonesia",timeZone:["Asia/Jakarta","Asia/Pontianak","Asia/Makassar","Asia/Jayapura"]},{value:"IR",label:"Iran",timeZone:["Asia/Tehran"]},{value:"IQ",label:"Iraq",timeZone:["Asia/Baghdad"]},{value:"IE",label:"Ireland",timeZone:["Europe/Dublin"]},{value:"IL",label:"Israel",timeZone:["Asia/Jerusalem"]},{value:"IT",label:"Italy",timeZone:["Europe/Rome"]},{value:"JM",label:"Jamaica",timeZone:["America/Jamaica"]},{value:"JP",label:"Japan",timeZone:["Asia/Tokyo"]},{value:"JO",label:"Jordan",timeZone:["Asia/Amman"]},{value:"KZ",label:"Kazakhstan",timeZone:["Asia/Almaty","Asia/Qyzylorda","Asia/Aqtobe","Asia/Aqtau","Asia/Oral"]},{value:"KE",label:"Kenya",timeZone:["Africa/Nairobi"]},{value:"KP",label:"Korea"},{value:"KR",label:"Korea",timeZone:["Asia/Seoul"]},{value:"KW",label:"Kuwait",timeZone:["Asia/Kuwait"]},{value:"KG",label:"Kyrgyzstan",timeZone:["Asia/Bishkek"]},{value:"LV",label:"Latvia",timeZone:["Europe/Riga"]},{value:"LB",label:"Lebanon",timeZone:["Asia/Beirut"]},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libya",timeZone:["Africa/Tripoli"]},{value:"LI",label:"Liechtenstein",timeZone:["Europe/Vaduz"]},{value:"LT",label:"Lithuania",timeZone:["Europe/Vilnius"]},{value:"LU",label:"Luxembourg",timeZone:["Europe/Luxembourg"]},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia",timeZone:["Asia/Kuala_Lumpur","Asia/Kuching"]},{value:"MV",label:"Maldives",timeZone:["Indian/Maldives"]},{value:"ML",label:"Mali",timeZone:["Africa/Bamako"]},{value:"MT",label:"Malta",timeZone:["Europe/Malta"]},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"MX",label:"Mexico",timeZone:["America/Mexico_City","America/Cancun","America/Merida","America/Monterrey","America/Matamoros","America/Mazatlan","America/Chihuahua","America/Ojinaga","America/Hermosillo","America/Tijuana","America/Bahia_Banderas"]},{value:"MD",label:"Moldova",timeZone:["Europe/Chisinau"]},{value:"MC",label:"Monaco",timeZone:["Europe/Monaco"]},{value:"MN",label:"Mongolia",timeZone:["Asia/Ulaanbaatar","Asia/Hovd","Asia/Choibalsan"]},{value:"ME",label:"Montenegro",timeZone:["Europe/Podgorica"]},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco",timeZone:["Africa/Casablanca"]},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar",timeZone:["Asia/Rangoon"]},{value:"NA",label:"Namibia"},{value:"NP",label:"Nepal",timeZone:["Asia/Kathmandu"]},{value:"NL",label:"Netherlands",timeZone:["Europe/Amsterdam"]},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand",timeZone:["Pacific/Auckland","Pacific/Chatham"]},{value:"NI",label:"Nicaragua",timeZone:["America/Managua"]},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria",timeZone:["Africa/Lagos"]},{value:"NO",label:"Norway",timeZone:["Europe/Oslo"]},{value:"OM",label:"Oman",timeZone:["Asia/Muscat"]},{value:"PK",label:"Pakistan",timeZone:["Asia/Karachi"]},{value:"PS",label:"Palestine"},{value:"PA",label:"Panama",timeZone:["America/Panama"]},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay",timeZone:["America/Asuncion"]},{value:"PE",label:"Peru",timeZone:["America/Lima"]},{value:"PH",label:"Philippines",timeZone:["Asia/Manila"]},{value:"PL",label:"Poland",timeZone:["Europe/Warsaw"]},{value:"PT",label:"Portugal",timeZone:["Europe/Lisbon","Atlantic/Madeira","Atlantic/Azores"]},{value:"PR",label:"Puerto Rico",timeZone:["America/Puerto_Rico"]},{value:"QA",label:"Qatar",timeZone:["Asia/Qatar"]},{value:"MK",label:"Macedonia",timeZone:["Europe/Skopje"]},{value:"RO",label:"Romania",timeZone:["Europe/Bucharest"]},{value:"RU",label:"Russia",timeZone:["Europe/Kaliningrad","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk","Asia/Yekaterinburg","Asia/Omsk","Asia/Novosibirsk","Asia/Barnaul","Asia/Novokuznetsk","Asia/Krasnoyarsk","Asia/Irkutsk","Asia/Chita","Asia/Yakutsk","Asia/Khandyga","Asia/Vladivostok","Asia/Ust-Nera","Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk","Asia/Kamchatka","Asia/Anadyr"]},{value:"RW",label:"Rwanda",timeZone:["Africa/Kigali"]},{value:"RE",label:"RÃ©union",timeZone:["Indian/Reunion"]},{value:"SA",label:"Saudi Arabia",timeZone:["Asia/Riyadh"]},{value:"SN",label:"Senegal",timeZone:["Africa/Dakar"]},{value:"RS",label:"Serbia",timeZone:["Europe/Belgrade"]},{value:"SG",label:"Singapore",timeZone:["Asia/Singapore"]},{value:"SK",label:"Slovakia",timeZone:["Europe/Bratislava"]},{value:"SI",label:"Slovenia",timeZone:["Europe/Ljubljana"]},{value:"SO",label:"Somalia",timeZone:["Africa/Mogadishu"]},{value:"ZA",label:"South Africa",timeZone:["Africa/Johannesburg"]},{value:"SS",label:"South Sudan"},{value:"ES",label:"Spain",timeZone:["Europe/Madrid","Africa/Ceuta","Atlantic/Canary"]},{value:"LK",label:"Sri Lanka",timeZone:["Asia/Colombo"]},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SE",label:"Sweden",timeZone:["Europe/Stockholm"]},{value:"CH",label:"Switzerland",timeZone:["Europe/Zurich"]},{value:"SY",label:"Syria",timeZone:["Asia/Damascus"]},{value:"TW",label:"Taiwan",timeZone:["Asia/Taipei"]},{value:"TJ",label:"Tajikistan",timeZone:["Asia/Dushanbe"]},{value:"TZ",label:"Tanzania"},{value:"TH",label:"Thailand",timeZone:["Asia/Bangkok"]},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TO",label:"Tonga"},{value:"TN",label:"Tunisia",timeZone:["Africa/Tunis"]},{value:"TR",label:"Turkey",timeZone:["Europe/Istanbul"]},{value:"TM",label:"Turkmenistan",timeZone:["Asia/Ashgabat"]},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine",timeZone:["Europe/Kiev","Europe/Uzhgorod","Europe/Zaporozhye"]},{value:"AE",label:"United Arab Emirates",timeZone:["Asia/Dubai"]},{value:"GB",label:"United Kingdom",timeZone:["Europe/London"]},{value:"US",label:"United States",timeZone:["America/New_York","America/Detroit","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Indiana/Indianapolis","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Chicago","America/Indiana/Tell_City","America/Indiana/Knox","America/Menominee","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/North_Dakota/Beulah","America/Denver","America/Boise","America/Phoenix","America/Los_Angeles","America/Anchorage","America/Juneau","America/Sitka","America/Metlakatla","America/Yakutat","America/Nome","America/Adak","Pacific/Honolulu"]},{value:"UY",label:"Uruguay",timeZone:["America/Montevideo"]},{value:"UZ",label:"Uzbekistan",timeZone:["Asia/Samarkand","Asia/Tashkent"]},{value:"VE",label:"Venezuela",timeZone:["America/Caracas"]},{value:"VN",label:"Vietnam",timeZone:["Asia/Ho_Chi_Minh"]},{value:"YE",label:"Yemen",timeZone:["Asia/Aden"]},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe",timeZone:["Africa/Harare"]}],et=({fields:e,translate:a})=>{let s=[];return Object.keys(e).forEach(l=>{let c=e[l];s.push({title:c.label?c.label:l,dataIndex:c.dataIndex?c.dataIndex.join("."):l,isDate:c.type==="date"})}),s};function at({fields:e,translate:a,moneyFormatter:s,dateFormat:l}){let c=[];return Object.keys(e).forEach(o=>{let n=e[o];const d=n.dataIndex?n.dataIndex:[o],h={boolean:{title:n.label?a(n.label):a(o),dataIndex:d,onCell:()=>({props:{style:{width:"60px"}}}),render:(b,r)=>t.jsx(ga,{checked:r[o],checkedChildren:t.jsx(ca,{}),unCheckedChildren:t.jsx(ua,{})})},date:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>{const u=X(r[o]).format(l);return t.jsx(F,{bordered:!1,color:n.color,children:u})}},currency:{title:n.label?a(n.label):a(o),dataIndex:d,onCell:()=>({style:{textAlign:"right",whiteSpace:"nowrap"}}),render:(b,r)=>s({amount:r[o],currency_code:r.currency})},async:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>{var u;return t.jsx(F,{bordered:!1,color:n.color||((u=r[o])==null?void 0:u.color)||r.color,children:b})}},color:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>{var u;return t.jsx(F,{bordered:!1,color:b,children:(u=Aa.find(m=>m.value===b))==null?void 0:u.label})}},stringWithColor:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>t.jsx(F,{bordered:!1,color:r.color||n.color,children:b})},tag:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>t.jsx(F,{bordered:!1,color:n.color,children:r[o]&&r[o]})},selectWithFeedback:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>{if(n.renderAsTag){const u=n.options.find(m=>m.value===r[o]);return t.jsx(F,{bordered:!1,color:u==null?void 0:u.color,children:r[o]&&a(r[o])})}else return r[o]&&a(r[o])}},select:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>{if(n.renderAsTag){const u=n.options.find(m=>m.value===r[o]);return t.jsx(F,{bordered:!1,color:u==null?void 0:u.color,children:r[o]&&r[o]})}else return r[o]&&r[o]}},selectWithTranslation:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>{if(n.renderAsTag){const u=n.options.find(m=>m.value===r[o]);return t.jsx(F,{bordered:!1,color:u==null?void 0:u.color,children:r[o]&&a(r[o])})}else return r[o]&&a(r[o])}},array:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>r[o].map(u=>t.jsx(F,{bordered:!1,color:n.colors[u],children:u},`${ye.generate()}`))},country:{title:n.label?a(n.label):a(o),dataIndex:d,render:(b,r)=>{const u=Xa.find(m=>m.value===r[o]);return t.jsxs(F,{bordered:!1,color:n.color||void 0,children:[(u==null?void 0:u.icon)&&(u==null?void 0:u.icon)+" ",(u==null?void 0:u.label)&&a(u.label)]})}}},f={title:n.label?a(n.label):a(o),dataIndex:d},g=n.type;n.disableForTable||(Object.keys(h).includes(g)?c.push(h[g]):c.push(f))}),c}function tt({config:e}){const{dateFormat:a}=Le();let{readColumns:s,fields:l}=e;const c=ue(),{result:o}=ne(Ue),{state:n}=G(),{isReadBoxOpen:d}=n,[h,f]=i.useState([]);l&&(s=[...et({fields:l,translate:c})]),i.useEffect(()=>{const r=[];s.map(u=>{const m=u.dataIndex,A=u.title,p=u.isDate||!1;let C=_e(o,m);C=p?X(C).format(a):C,r.push({propsKey:m,label:A,value:C})}),f(r)},[o]);const g=d?{display:"block",opacity:1}:{display:"none",opacity:0},b=h.map(r=>t.jsxs(pe,{gutter:12,children:[t.jsx(z,{className:"gutter-row",span:8,children:t.jsx("p",{children:r.label})}),t.jsx(z,{className:"gutter-row",span:2,children:t.jsx("p",{children:" : "})}),t.jsx(z,{className:"gutter-row",span:14,children:t.jsx("p",{children:r.value})})]},r.propsKey));return t.jsx("div",{style:g,children:b})}function nt({config:e,onRerender:a}){let{entity:s,searchConfig:l}=e;const{displayLabels:c,searchFields:o,outputValue:n="_id"}=l,d=te(),{crudContextAction:h}=G(),{panel:f,collapsedBox:g,readBox:b}=h,{result:r,isLoading:u,isSuccess:m}=ne(Va),[A,p]=i.useState([]),[C,y]=i.useState(void 0),v=i.useRef(!1),[j,w]=i.useState(!1),[S,E]=i.useState(""),[N,Y]=i.useState(""),[,U]=Ea(()=>{Y(S)},500,[S]),D=Z=>c.map(x=>Z[x]).join(" ");i.useEffect(()=>{if(N!=""){const Z={q:N,fields:o};d(k.search({entity:s,options:Z}))}return()=>{U()}},[N]);const L=Z=>{Z&&Z!=""&&(v.current=!0,w(!0),p([]),y(void 0),E(Z))},R=Z=>{const x=r.find(T=>T[n]===Z);d(k.currentItem({data:x})),f.open(),g.open(),b.open(),a()};return i.useEffect(()=>{v.current&&(m?p(r):(w(!1),y(void 0),p([])))},[m,r]),t.jsx(Be,{loading:u,showSearch:!0,allowClear:!0,placeholder:t.jsx(da,{style:{float:"right",padding:"8px 0"}}),defaultActiveFirstOption:!1,filterOption:!1,notFoundContent:j?"... Searching":t.jsx(ja,{}),value:C,onSearch:L,style:{width:"100%"},onSelect:R,children:A.map(Z=>t.jsx(Be.Option,{value:Z[n],children:D(Z)},Z[n]))})}function lt({config:e}){const[a,s]=i.useState([0]),l=()=>{s([a+1])};return a.map(c=>t.jsx(nt,{config:e,onRerender:l},c))}function ot({config:e}){const{crudContextAction:a}=G(),{collapsedBox:s,panel:l}=a,{ADD_NEW_ENTITY:c}=e,o=()=>{l.open(),s.close()};return t.jsx(J,{onClick:o,type:"primary",children:c})}function it({config:e,extra:a=[]}){let{entity:s,dataTableColumns:l,DATATABLE_TITLE:c,fields:o,searchConfig:n}=e;const{crudContextAction:d}=G(),{panel:h,collapsedBox:f,modal:g,readBox:b,editBox:r,advancedBox:u}=d,m=ue(),{moneyFormatter:A}=xa(),{dateFormat:p}=Le(),C=[{label:m("Show"),key:"read",icon:t.jsx(ma,{})},{label:m("Edit"),key:"edit",icon:t.jsx(Oe,{})},...a,{type:"divider"},{label:m("Delete"),key:"delete",icon:t.jsx(Re,{})}],y=x=>{D(k.currentItem({data:x})),h.open(),f.open(),b.open()};function v(x){D(k.currentItem({data:x})),D(k.currentAction({actionType:"update",data:x})),r.open(),h.open(),f.open()}function j(x){D(k.currentAction({actionType:"delete",data:x})),g.open()}function w(x){D(k.currentItem({data:x})),D(k.currentAction({actionType:"update",data:x})),u.open(),h.open(),f.open()}let S=[];o?S=[...at({fields:o,translate:m,moneyFormatter:A,dateFormat:p})]:S=[...l],l=[...S,{title:"",key:"action",fixed:"right",render:(x,T)=>t.jsx(ya,{menu:{items:C,onClick:({key:$})=>{switch($){case"read":y(T);break;case"edit":v(T);break;case"delete":j(T);break;case"updatePassword":w(T);break}}},trigger:["click"],children:t.jsx(Sa,{style:{cursor:"pointer",fontSize:"24px"},onClick:$=>$.preventDefault()})})}];const{result:E,isLoading:N}=ne(za),{pagination:Y,items:U}=E,D=te(),L=i.useCallback(x=>{const T={page:x.current||1,items:x.pageSize||10};D(k.list({entity:s,options:T}))},[]),R=x=>{const $={q:x.target.value,fields:(n==null?void 0:n.searchFields)||""};D(k.list({entity:s,options:$}))},Z=()=>{D(k.list({entity:s}))};return i.useEffect(()=>{const x=new AbortController;return Z(),()=>{x.abort()}},[]),t.jsxs(t.Fragment,{children:[t.jsx(wa,{onBack:()=>window.history.back(),backIcon:t.jsx(Za,{}),title:c,ghost:!1,extra:[t.jsx(ba,{onChange:R,placeholder:m("search"),allowClear:!0},"searchFilterDataTable}"),t.jsx(J,{onClick:L,icon:t.jsx(pa,{}),children:m("Refresh")},`${ye.generate()}`),t.jsx(ot,{config:e},`${ye.generate()}`)],style:{padding:"20px 0px"}}),t.jsx(ka,{columns:l,rowKey:x=>x._id,dataSource:U,pagination:Y,loading:N,onChange:L,scroll:{x:!0}})]})}function rt({children:e}){return t.jsx(Xe,{children:e})}const st=({onChange:e,title:a})=>t.jsx("div",{className:"collapseBoxHeader",onClick:e,children:a}),ct=({isOpen:e,children:a})=>{const s=e?{display:"block",opacity:1}:{display:"none",opacity:0};return t.jsx("div",{className:"TopCollapseBox",children:t.jsx("div",{style:s,children:t.jsx(pe,{children:t.jsxs(z,{span:24,children:[" ",a]})})})})},ut=({isOpen:e,children:a})=>{const s=e?{display:"none",opacity:0}:{display:"block",opacity:1};return t.jsx("div",{className:"BottomCollapseBox",children:t.jsx("div",{style:s,children:t.jsx(pe,{children:t.jsxs(z,{span:24,children:[" ",a]})})})})};function dt({topContent:e,bottomContent:a,buttonTitle:s,isCollapsed:l,onCollapse:c}){const o=l?"collapsed":"";return t.jsxs(t.Fragment,{children:[t.jsx(ct,{isOpen:l,children:e}),t.jsxs("div",{className:"collapseBox "+o,children:[t.jsx(st,{title:s,onChange:c}),t.jsx("div",{className:"whiteBg"}),t.jsx(ut,{isOpen:l,children:a})]})]})}const{useBreakpoint:mt}=Da;function bt({config:e,topContent:a,bottomContent:s,fixHeaderPanel:l}){mt();const{ADD_NEW_ENTITY:c}=e,{state:o,crudContextAction:n}=G(),{isPanelClose:d,isBoxCollapsed:h}=o,{panel:f,collapsedBox:g}=n,[b,r]=i.useState(d),[u,m]=i.useState("-1px"),[A,p]=i.useState(0),[C,y]=i.useState("20px");i.useEffect(()=>{let w=[];return d?(p(0),y("20px"),w=setTimeout(()=>{m("-1px"),r(d)},200)):(r(d),m(0),w=setTimeout(()=>{p(1),y(0)},200)),()=>clearTimeout(w)},[d]);const v=()=>{f.collapse()},j=()=>{g.collapse()};return t.jsx(Ye,{title:e.PANEL_TITLE,placement:"right",onClose:v,open:!d,width:450,children:t.jsxs("div",{className:"sidePanelContent",style:{opacity:A,paddingTop:C},children:[l,t.jsx(dt,{buttonTitle:c,isCollapsed:h,onCollapse:j,topContent:a,bottomContent:s})]})})}const{Content:vt}=va,pt=({children:e})=>{const{state:a,crudContextAction:s}=G();Pe();const{isPanelClose:l}=a,[c,o]=i.useState(l);return i.useEffect(()=>{let n=[];return l?n=setTimeout(()=>{o(l)},200):o(l),()=>clearTimeout(n)},[l]),t.jsx(vt,{className:"whiteBox shadow layoutPadding",style:{margin:"30px auto",width:"100%",maxWidth:"100%",flex:"none"},children:e})};function ft({children:e,config:a,sidePanelTopContent:s,sidePanelBottomContent:l,fixHeaderPanel:c}){return t.jsx(t.Fragment,{children:t.jsxs(rt,{children:[t.jsx(bt,{config:a,topContent:s,bottomContent:l,fixHeaderPanel:c}),t.jsxs(pt,{children:[" ",e]})]})})}function ht({config:e,formElements:a,withUpload:s}){const l=ue(),{crudContextAction:c,state:o}=G(),{deleteModalLabels:n}=e,{modal:d,editBox:h}=c,{isReadBoxOpen:f,isEditBoxOpen:g}=o,{result:b}=ne(Ue),r=te(),[u,m]=i.useState("");i.useEffect(()=>{if(b){const y=n.map(v=>b[v]).join(" ");m(y)}},[b]);const A=()=>{r(k.currentAction({actionType:"delete",data:b})),d.open()},p=()=>{r(k.currentAction({actionType:"update",data:b})),h.open()},C=f||g?{opacity:1}:{opacity:0};return t.jsxs(t.Fragment,{children:[t.jsxs(pe,{style:C,gutter:24,children:[t.jsx(z,{span:10,children:t.jsx("p",{style:{marginBottom:"10px"},children:u})}),t.jsxs(z,{span:14,children:[t.jsx(J,{onClick:A,type:"text",icon:t.jsx(Re,{}),size:"small",style:{float:"right",marginLeft:"5px",marginTop:"10px"},children:l("remove")}),t.jsx(J,{onClick:p,type:"text",icon:t.jsx(Oe,{}),size:"small",style:{float:"right",marginLeft:"0px",marginTop:"10px"},children:l("edit")})]}),t.jsx(z,{span:24,children:t.jsx("div",{className:"line"})}),t.jsx("div",{className:"space10"})]}),t.jsx(tt,{config:e}),t.jsx(qa,{config:e,formElements:a,withUpload:s})]})}function At({config:e}){const{crudContextAction:a}=G(),{collapsedBox:s}=a,l=()=>{s.close()};return t.jsxs(pe,{gutter:8,children:[t.jsx(z,{className:"gutter-row",span:21,children:t.jsx(lt,{config:e})}),t.jsx(z,{className:"gutter-row",span:3,children:t.jsx(J,{onClick:l,block:!0,icon:t.jsx(Ia,{})})})]})}function Gt({config:e,createForm:a,updateForm:s,withUpload:l=!1}){const c=te();return i.useLayoutEffect(()=>{c(k.resetState())},[]),t.jsxs(ft,{config:e,fixHeaderPanel:t.jsx(At,{config:e}),sidePanelBottomContent:t.jsx(Ja,{config:e,formElements:a,withUpload:l}),sidePanelTopContent:t.jsx(ht,{config:e,formElements:s,withUpload:l}),children:[t.jsx(it,{config:e}),t.jsx(Qa,{config:e})]})}export{Gt as C,Xa as c};
