import{m as S,o as v,r as h,j as e}from"./index-DGBU46UJ.js";import{d as C}from"./dayjs.min-8Z1s2ZZV.js";import{ay as u,ai as o,aw as b,aA as A,aB as n,ar as E}from"./IdurarOs-CJ9ViAhm.js";import{j}from"./ErpApp-CYUZ8TN2.js";import{P as T}from"./index-4j7roaEt.js";import{C as r}from"./index-CjcNLPXh.js";import{S as c}from"./index-jUM5zKUs.js";import{T as f}from"./index-BJe3uNvq.js";import{D as s}from"./index-iOI7SQQY.js";import{s as I}from"./index-C-NUezbm.js";import{A as R}from"./ArrowLeftOutlined-B33LkA-B.js";import{D as M}from"./DeleteOutlined-CPNGvea9.js";import"./ActionButton-CXYEvTjl.js";import"./Skeleton-CtKtAXNJ.js";import"./index-CjgSDB-1.js";import"./PlusOutlined-WiqW7VqH.js";import"./pickAttrs-fHa9THfw.js";import"./useClosable-CO9qeB94.js";const{Title:O}=E;function g(){return{Authorization:`Bearer ${localStorage.getItem("x-auth-token")}`}}const z={draft:"default",approved:"blue",paid:"green",rejected:"red"},B={salaries:"Salaries",rent:"Rent",travel:"Travel",office:"Office Supplies",utilities:"Utilities",bank_charges:"Bank Charges",marketing:"Marketing",maintenance:"Maintenance",insurance:"Insurance",professional_fees:"Professional Fees",customs_duties:"Customs & Duties",shipping:"Shipping",telecommunications:"Telecom",other:"Other"};function Q(){var d,m,x,p;const l=S(),{id:i}=v(),[t,y]=h.useState(null);h.useEffect(()=>{fetch(u+`expense/read/${i}`,{headers:g()}).then(a=>a.json()).then(a=>{a.success&&y(a.result)}).catch(()=>{})},[i]);const D=async()=>{await fetch(u+`expense/delete/${i}`,{method:"DELETE",headers:g()}),I.success("Deleted"),l("/expense")};return t?e.jsxs("div",{style:{padding:24,maxWidth:800},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsxs(j,{children:[e.jsx(o,{icon:e.jsx(R,{}),onClick:()=>l("/expense")}),e.jsxs(O,{level:4,style:{margin:0,color:"#034D57"},children:["EXP-",t.number]})]}),e.jsxs(j,{children:[e.jsx(o,{icon:e.jsx(b,{}),onClick:()=>l(`/expense/edit/${i}`),children:"Edit"}),e.jsx(T,{title:"Delete this expense?",onConfirm:D,children:e.jsx(o,{danger:!0,icon:e.jsx(M,{}),children:"Delete"})})]})]}),e.jsxs(A,{gutter:12,style:{marginBottom:16},children:[e.jsx(n,{xs:12,sm:6,children:e.jsx(r,{size:"small",children:e.jsx(c,{title:"Amount",value:parseFloat(t.amount||0).toFixed(3),suffix:"OMR",valueStyle:{color:"#034D57"}})})}),e.jsx(n,{xs:12,sm:6,children:e.jsx(r,{size:"small",children:e.jsx(c,{title:"VAT",value:parseFloat(t.taxAmount||0).toFixed(3),suffix:"OMR"})})}),e.jsx(n,{xs:12,sm:6,children:e.jsx(r,{size:"small",children:e.jsx(c,{title:"Total",value:parseFloat(t.total||0).toFixed(3),suffix:"OMR",valueStyle:{color:"#034D57",fontWeight:700}})})}),e.jsx(n,{xs:12,sm:6,children:e.jsxs(r,{size:"small",style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"#888"},children:"Status"}),e.jsx(f,{color:z[t.status],style:{marginTop:6},children:(d=t.status)==null?void 0:d.toUpperCase()})]})})]}),e.jsx(r,{size:"small",children:e.jsxs(s,{column:{xs:1,sm:2},bordered:!0,size:"small",children:[e.jsx(s.Item,{label:"Description",children:t.description}),e.jsx(s.Item,{label:"Category",children:e.jsx(f,{children:B[t.category]||t.category})}),e.jsx(s.Item,{label:"Date",children:C(t.date).format("DD MMM YYYY")}),e.jsx(s.Item,{label:"Payment Method",children:(m=t.paymentMethod)==null?void 0:m.replace(/_/g," ")}),e.jsx(s.Item,{label:"Reference",children:t.reference||"—"}),e.jsx(s.Item,{label:"Vendor",children:((x=t.vendor)==null?void 0:x.companyName)||"—"}),e.jsx(s.Item,{label:"Project",children:((p=t.project)==null?void 0:p.name)||"—"}),t.notes&&e.jsx(s.Item,{label:"Notes",span:2,children:t.notes})]})})]}):e.jsx("div",{style:{padding:24},children:"Loading…"})}export{Q as default};
