import{r as i,c as ae,n as te,u as ne,j as t}from"./index-CTFV7Brr.js";import{o as ea,p as aa,q as ta,g as X,T as F,e as we,l as na,k as Te,D as la,E as oa,u as Pe}from"./ErpApp-DMSXEY9U.js";import{c as k}from"./actions-DdWc-pZb.js";import{a as G,C as ia}from"./index-BqPpWbME.js";import{s as ra,g as ve,c as O,_,o as sa,e as Ce,ag as Ze,m as ke,n as xe,j as Me,bb as ca,b as Se,F as ua,G as da,L as ce,a1 as ma,ap as ba,bc as va,aw as pa,a2 as Be,b8 as ee,ba as Oe,aB as J,aU as ue,aQ as _e,Q as fa,C as ha,aM as pe,aL as z,U as Aa,b4 as ga,b5 as Le,aX as xa,aT as Ca}from"./IdurarOs-BuItXQtq.js";import{v as Re,R as ya}from"./helpers-DZahsxBh.js";import{u as Sa,M as Ea}from"./index-CXsfvZca.js";import{s as ye}from"./index-KrFx5yLV.js";import{c as ja}from"./color-CnuJOIlI.js";import{S as wa}from"./index-D92XfgW9.js";import"./currency.es-9OAR_aOO.js";import{u as $e}from"./useDate-Ch3FUpbV.js";import{u as Za}from"./useDebounce-TkbtMzey.js";import{P as ka}from"./index-Cg2nNOoR.js";import{u as Ma}from"./useMoney-Cq4Xq6HW.js";import{A as Ba}from"./ArrowLeftOutlined-fqCPcQQ3.js";import{F as Ia}from"./Table-DWRONg7I.js";import{P as Na}from"./PlusOutlined-CSb8KqdM.js";function Da(){return ea()}const Ta={useBreakpoint:Da};var Ie=i.createContext(null),Ke=i.createContext({}),Pa=function(a){var c=a.prefixCls,l=a.className,s=a.style,o=a.children,n=a.containerRef,d=a.id,h=a.onMouseEnter,f=a.onMouseOver,g=a.onMouseLeave,p=a.onClick,r=a.onKeyDown,u=a.onKeyUp,m={onMouseEnter:h,onMouseOver:f,onMouseLeave:g,onClick:p,onKeyDown:r,onKeyUp:u},A=i.useContext(Ke),v=A.panel,C=ra(v,n);return i.createElement(i.Fragment,null,i.createElement("div",ve({id:d,className:O("".concat(c,"-content"),l),style:_({},s),"aria-modal":"true",role:"dialog",ref:C},m),o))};function Ne(e){return typeof e=="string"&&String(Number(e))===e?(sa(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var De={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Oa(e,a){var c,l,s,o=e.prefixCls,n=e.open,d=e.placement,h=e.inline,f=e.push,g=e.forceRender,p=e.autoFocus,r=e.keyboard,u=e.classNames,m=e.rootClassName,A=e.rootStyle,v=e.zIndex,C=e.className,y=e.id,b=e.style,S=e.motion,w=e.width,E=e.height,j=e.children,N=e.mask,Y=e.maskClosable,U=e.maskMotion,D=e.maskClassName,L=e.maskStyle,R=e.afterOpenChange,Z=e.onClose,x=e.onMouseEnter,T=e.onMouseOver,$=e.onMouseLeave,oe=e.onClick,de=e.onKeyDown,me=e.onKeyUp,B=e.styles,H=i.useRef(),K=i.useRef(),W=i.useRef();i.useImperativeHandle(a,function(){return H.current});var be=function(P){var re=P.keyCode,se=P.shiftKey;switch(re){case xe.TAB:{if(re===xe.TAB){if(!se&&document.activeElement===W.current){var Ae;(Ae=K.current)===null||Ae===void 0||Ae.focus({preventScroll:!0})}else if(se&&document.activeElement===K.current){var ge;(ge=W.current)===null||ge===void 0||ge.focus({preventScroll:!0})}}break}case xe.ESC:{Z&&r&&(P.stopPropagation(),Z(P));break}}};i.useEffect(function(){if(n&&p){var M;(M=H.current)===null||M===void 0||M.focus({preventScroll:!0})}},[n]);var he=i.useState(!1),fe=Ce(he,2),Ee=fe[0],ie=fe[1],I=i.useContext(Ie),V;f===!1?V={distance:0}:f===!0?V={}:V=f||{};var q=(c=(l=(s=V)===null||s===void 0?void 0:s.distance)!==null&&l!==void 0?l:I==null?void 0:I.pushDistance)!==null&&c!==void 0?c:180,Ve=i.useMemo(function(){return{pushDistance:q,push:function(){ie(!0)},pull:function(){ie(!1)}}},[q]);i.useEffect(function(){if(n){var M;I==null||(M=I.push)===null||M===void 0||M.call(I)}else{var P;I==null||(P=I.pull)===null||P===void 0||P.call(I)}},[n]),i.useEffect(function(){return function(){var M;I==null||(M=I.pull)===null||M===void 0||M.call(I)}},[]);var Je=N&&i.createElement(Ze,ve({key:"mask"},U,{visible:n}),function(M,P){var re=M.className,se=M.style;return i.createElement("div",{className:O("".concat(o,"-mask"),re,u==null?void 0:u.mask,D),style:_(_(_({},se),L),B==null?void 0:B.mask),onClick:Y&&n?Z:void 0,ref:P})}),qe=typeof S=="function"?S(d):S,Q={};if(Ee&&q)switch(d){case"top":Q.transform="translateY(".concat(q,"px)");break;case"bottom":Q.transform="translateY(".concat(-q,"px)");break;case"left":Q.transform="translateX(".concat(q,"px)");break;default:Q.transform="translateX(".concat(-q,"px)");break}d==="left"||d==="right"?Q.width=Ne(w):Q.height=Ne(E);var Qe={onMouseEnter:x,onMouseOver:T,onMouseLeave:$,onClick:oe,onKeyDown:de,onKeyUp:me},Xe=i.createElement(Ze,ve({key:"panel"},qe,{visible:n,forceRender:g,onVisibleChanged:function(P){R==null||R(P)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden")}),function(M,P){var re=M.className,se=M.style;return i.createElement("div",ve({className:O("".concat(o,"-content-wrapper"),u==null?void 0:u.wrapper,re),style:_(_(_({},Q),se),B==null?void 0:B.wrapper)},aa(e,{data:!0})),i.createElement(Pa,ve({id:y,containerRef:P,prefixCls:o,className:O(C,u==null?void 0:u.content),style:_(_({},b),B==null?void 0:B.content)},Qe),j))}),je=_({},A);return v&&(je.zIndex=v),i.createElement(Ie.Provider,{value:Ve},i.createElement("div",{className:O(o,"".concat(o,"-").concat(d),m,ke(ke({},"".concat(o,"-open"),n),"".concat(o,"-inline"),h)),style:je,tabIndex:-1,ref:H,onKeyDown:be},Je,i.createElement("div",{tabIndex:0,ref:K,style:De,"aria-hidden":"true","data-sentinel":"start"}),Xe,i.createElement("div",{tabIndex:0,ref:W,style:De,"aria-hidden":"true","data-sentinel":"end"})))}var _a=i.forwardRef(Oa),La=function(a){var c=a.open,l=c===void 0?!1:c,s=a.prefixCls,o=s===void 0?"rc-drawer":s,n=a.placement,d=n===void 0?"right":n,h=a.autoFocus,f=h===void 0?!0:h,g=a.keyboard,p=g===void 0?!0:g,r=a.width,u=r===void 0?378:r,m=a.mask,A=m===void 0?!0:m,v=a.maskClosable,C=v===void 0?!0:v,y=a.getContainer,b=a.forceRender,S=a.afterOpenChange,w=a.destroyOnClose,E=a.onMouseEnter,j=a.onMouseOver,N=a.onMouseLeave,Y=a.onClick,U=a.onKeyDown,D=a.onKeyUp,L=a.panelRef,R=i.useState(!1),Z=Ce(R,2),x=Z[0],T=Z[1],$=i.useState(!1),oe=Ce($,2),de=oe[0],me=oe[1];Me(function(){me(!0)},[]);var B=de?l:!1,H=i.useRef(),K=i.useRef();Me(function(){B&&(K.current=document.activeElement)},[B]);var W=function(ie){var I;if(T(ie),S==null||S(ie),!ie&&K.current&&!((I=H.current)!==null&&I!==void 0&&I.contains(K.current))){var V;(V=K.current)===null||V===void 0||V.focus({preventScroll:!0})}},be=i.useMemo(function(){return{panel:L}},[L]);if(!b&&!x&&!B&&w)return null;var he={onMouseEnter:E,onMouseOver:j,onMouseLeave:N,onClick:Y,onKeyDown:U,onKeyUp:D},fe=_(_({},a),{},{open:B,prefixCls:o,placement:d,autoFocus:f,keyboard:p,width:u,mask:A,maskClosable:C,inline:y===!1,afterOpenChange:W,ref:H},he);return i.createElement(Ke.Provider,{value:be},i.createElement(ca,{open:B||b||x,autoDestroy:!1,getContainer:y,autoLock:A&&(B||x)},i.createElement(_a,fe)))};const Ge=e=>{var a,c;const{prefixCls:l,title:s,footer:o,extra:n,closeIcon:d,closable:h,onClose:f,headerStyle:g,bodyStyle:p,footerStyle:r,children:u,classNames:m,styles:A}=e,{drawer:v}=i.useContext(Se),C=i.useCallback(E=>i.createElement("button",{type:"button",onClick:f,"aria-label":"Close",className:`${l}-close`},E),[f]),[y,b]=ta(h,typeof d<"u"?d:v==null?void 0:v.closeIcon,C,void 0,!0),S=i.useMemo(()=>{var E,j;return!s&&!y?null:i.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(E=v==null?void 0:v.styles)===null||E===void 0?void 0:E.header),g),A==null?void 0:A.header),className:O(`${l}-header`,{[`${l}-header-close-only`]:y&&!s&&!n},(j=v==null?void 0:v.classNames)===null||j===void 0?void 0:j.header,m==null?void 0:m.header)},i.createElement("div",{className:`${l}-header-title`},b,s&&i.createElement("div",{className:`${l}-title`},s)),n&&i.createElement("div",{className:`${l}-extra`},n))},[y,b,n,g,l,s]),w=i.useMemo(()=>{var E,j;if(!o)return null;const N=`${l}-footer`;return i.createElement("div",{className:O(N,(E=v==null?void 0:v.classNames)===null||E===void 0?void 0:E.footer,m==null?void 0:m.footer),style:Object.assign(Object.assign(Object.assign({},(j=v==null?void 0:v.styles)===null||j===void 0?void 0:j.footer),r),A==null?void 0:A.footer)},o)},[o,r,l]);return i.createElement(i.Fragment,null,S,i.createElement("div",{className:O(`${l}-body`,m==null?void 0:m.body,(a=v==null?void 0:v.classNames)===null||a===void 0?void 0:a.body),style:Object.assign(Object.assign(Object.assign({},(c=v==null?void 0:v.styles)===null||c===void 0?void 0:c.body),p),A==null?void 0:A.body)},u),w)},Ra=e=>{const a="100%";return{left:`translateX(-${a})`,right:`translateX(${a})`,top:`translateY(-${a})`,bottom:`translateY(${a})`}[e]},He=(e,a)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":a}),"&-leave":Object.assign(Object.assign({},a),{"&-active":e})}),Fe=(e,a)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${a}`}}},He({opacity:e},{opacity:1})),$a=(e,a)=>[Fe(.7,a),He({transform:Ra(e)},{transform:"none"})],Ka=e=>{const{componentCls:a,motionDurationSlow:c}=e;return{[a]:{[`${a}-mask-motion`]:Fe(0,c),[`${a}-panel-motion`]:["left","right","top","bottom"].reduce((l,s)=>Object.assign(Object.assign({},l),{[`&-${s}`]:$a(s,c)}),{})}}},Ga=e=>{const{componentCls:a,zIndexPopup:c,colorBgMask:l,colorBgElevated:s,motionDurationSlow:o,motionDurationMid:n,padding:d,paddingLG:h,fontSizeLG:f,lineHeightLG:g,lineWidth:p,lineType:r,colorSplit:u,marginSM:m,colorIcon:A,colorIconHover:v,colorText:C,fontWeightStrong:y,footerPaddingBlock:b,footerPaddingInline:S}=e,w=`${a}-content-wrapper`;return{[a]:{position:"fixed",inset:0,zIndex:c,pointerEvents:"none","&-pure":{position:"relative",background:s,display:"flex",flexDirection:"column",[`&${a}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${a}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${a}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${a}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${a}-mask`]:{position:"absolute",inset:0,zIndex:c,background:l,pointerEvents:"auto"},[w]:{position:"absolute",zIndex:c,maxWidth:"100vw",transition:`all ${o}`,"&-hidden":{display:"none"}},[`&-left > ${w}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${w}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${w}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${w}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${a}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:s,pointerEvents:"auto"},[`${a}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${ce(d)} ${ce(h)}`,fontSize:f,lineHeight:g,borderBottom:`${ce(p)} ${r} ${u}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${a}-extra`]:{flex:"none"},[`${a}-close`]:{display:"inline-block",marginInlineEnd:m,color:A,fontWeight:y,fontSize:f,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${n}`,textRendering:"auto","&:focus, &:hover":{color:v,textDecoration:"none"}},[`${a}-title`]:{flex:1,margin:0,color:C,fontWeight:e.fontWeightStrong,fontSize:f,lineHeight:g},[`${a}-body`]:{flex:1,minWidth:0,minHeight:0,padding:h,overflow:"auto"},[`${a}-footer`]:{flexShrink:0,padding:`${ce(b)} ${ce(S)}`,borderTop:`${ce(p)} ${r} ${u}`},"&-rtl":{direction:"rtl"}}}},Ha=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),ze=ua("Drawer",e=>{const a=da(e,{});return[Ga(a),Ka(a)]},Ha);var Ye=function(e,a){var c={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.indexOf(l)<0&&(c[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(e);s<l.length;s++)a.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(e,l[s])&&(c[l[s]]=e[l[s]]);return c};const Fa={distance:180},Ue=e=>{const{rootClassName:a,width:c,height:l,size:s="default",mask:o=!0,push:n=Fa,open:d,afterOpenChange:h,onClose:f,prefixCls:g,getContainer:p,style:r,className:u,visible:m,afterVisibleChange:A,maskStyle:v,drawerStyle:C,contentWrapperStyle:y}=e,b=Ye(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:S,getPrefixCls:w,direction:E,drawer:j}=i.useContext(Se),N=w("drawer",g),[Y,U,D]=ze(N),L=p===void 0&&S?()=>S(document.body):p,R=O({"no-mask":!o,[`${N}-rtl`]:E==="rtl"},a,U,D),Z=i.useMemo(()=>c??(s==="large"?736:378),[c,s]),x=i.useMemo(()=>l??(s==="large"?736:378),[l,s]),T={motionName:Be(N,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},$=be=>({motionName:Be(N,`panel-motion-${be}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),oe=Sa(),[de,me]=ma("Drawer",b.zIndex),{classNames:B={},styles:H={}}=b,{classNames:K={},styles:W={}}=j||{};return Y(i.createElement(ba,null,i.createElement(va,{status:!0,override:!0},i.createElement(pa.Provider,{value:me},i.createElement(La,Object.assign({prefixCls:N,onClose:f,maskMotion:T,motion:$},b,{classNames:{mask:O(B.mask,K.mask),content:O(B.content,K.content)},styles:{mask:Object.assign(Object.assign(Object.assign({},H.mask),v),W.mask),content:Object.assign(Object.assign(Object.assign({},H.content),C),W.content),wrapper:Object.assign(Object.assign(Object.assign({},H.wrapper),y),W.wrapper)},open:d??m,mask:o,push:n,width:Z,height:x,style:Object.assign(Object.assign({},j==null?void 0:j.style),r),className:O(j==null?void 0:j.className,u),rootClassName:R,getContainer:L,afterOpenChange:h??A,panelRef:oe,zIndex:de}),i.createElement(Ge,Object.assign({prefixCls:N},b,{onClose:f})))))))},za=e=>{const{prefixCls:a,style:c,className:l,placement:s="right"}=e,o=Ye(e,["prefixCls","style","className","placement"]),{getPrefixCls:n}=i.useContext(Se),d=n("drawer",a),[h,f,g]=ze(d),p=O(d,`${d}-pure`,`${d}-${s}`,f,g,l);return h(i.createElement("div",{className:p,style:c},i.createElement(Ge,Object.assign({prefixCls:d},o))))};Ue._InternalPanelDoNotUseOrYouWillBeFired=za;const le=e=>e.crud,We=ae([le],e=>e.current),Ya=ae([le],e=>e.list),Ua=ae([le],e=>e.create),Wa=ae([le],e=>e.update);ae([le],e=>e.read);const Va=ae([le],e=>e.delete),Ja=ae([le],e=>e.search);function qa({config:e,formElements:a,withUpload:c=!1}){let{entity:l}=e;const s=te(),{isLoading:o,isSuccess:n}=ne(Ua),{crudContextAction:d}=G(),{panel:h,collapsedBox:f,readBox:g}=d,[p]=ee.useForm(),r=ue(),u=m=>{m.file&&c&&(m.file=m.file[0].originFileObj),s(k.create({entity:l,jsonData:m,withUpload:c}))};return i.useEffect(()=>{n&&(g.open(),f.open(),h.open(),p.resetFields(),s(k.resetAction({actionType:"create"})),s(k.list({entity:l})))},[n]),t.jsx(Oe,{isLoading:o,children:t.jsxs(ee,{form:p,layout:"vertical",onFinish:u,children:[a,t.jsx(ee.Item,{children:t.jsx(J,{type:"primary",htmlType:"submit",children:r("Submit")})})]})})}function Qa({config:e,formElements:a,withUpload:c=!1}){let{entity:l}=e;const s=ue(),o=te(),{current:n,isLoading:d,isSuccess:h}=ne(Wa),{state:f,crudContextAction:g}=G(),{panel:p,collapsedBox:r,readBox:u}=g,m=()=>{u.open()},[A]=ee.useForm(),v=b=>{const S=n._id;b.file&&c&&(b.file=b.file[0].originFileObj),o(k.update({entity:l,id:S,jsonData:b,withUpload:c}))};i.useEffect(()=>{if(n){let b={...n};b.birthday&&(b={...b,birthday:X(b.birthday).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),b.date&&(b={...b,date:X(b.date).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),b.expiredDate&&(b={...b,expiredDate:X(b.expiredDate).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),b.created&&(b={...b,created:X(b.created).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),b.updated&&(b={...b,updated:X(b.updated).format("YYYY-MM-DDTHH:mm:ss.SSSZ")}),A.resetFields(),A.setFieldsValue(b)}},[n]),i.useEffect(()=>{h&&(u.open(),r.open(),p.open(),A.resetFields(),o(k.resetAction({actionType:"update"})),o(k.list({entity:l})))},[h]);const{isEditBoxOpen:C}=f,y=C?{display:"block",opacity:1}:{display:"none",opacity:0};return t.jsx("div",{style:y,children:t.jsx(Oe,{isLoading:d,children:t.jsxs(ee,{form:A,layout:"vertical",onFinish:v,children:[a,t.jsx(ee.Item,{style:{display:"inline-block",paddingRight:"5px"},children:t.jsx(J,{type:"primary",htmlType:"submit",children:s("Save")})}),t.jsx(ee.Item,{style:{display:"inline-block",paddingLeft:"5px"},children:t.jsx(J,{onClick:m,children:s("Cancel")})})]})})})}function Xa({config:e}){const a=ue();let{entity:c,deleteModalLabels:l,deleteMessage:s=a("are_you_sure_you_want_to_delete"),modalTitle:o=a("delete_confirmation")}=e;const n=te(),{current:d,isLoading:h,isSuccess:f}=ne(Va),{state:g,crudContextAction:p}=G(),{appContextAction:r}=_e(),{panel:u,readBox:m}=p,{navMenu:A}=r,{isModalOpen:v}=g,{modal:C}=p,[y,b]=i.useState("");i.useEffect(()=>{if(f&&(console.log("ðŸš€ ~ useEffect ~ DeleteModal isSuccess:",f),C.close(),n(k.list({entity:c}))),d){let E=l.map(j=>Re(d,j)).join(" ");b(E)}},[f,d]);const S=()=>{const E=d._id;n(k.delete({entity:c,id:E})),m.close(),C.close(),u.close(),A.collapse()},w=()=>{h||C.close()};return t.jsx(Ea,{title:o,open:v,onOk:S,onCancel:w,confirmLoading:h,children:t.jsxs("p",{children:[s,y]})})}const et=[{label:"Afghanistan",value:"AF",timeZone:["Asia/Kabul"]},{label:"Albania",value:"AL",timeZone:["Europe/Tirane"]},{label:"Algeria",value:"DZ",timeZone:["Africa/Algiers"]},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Argentina",value:"AR",timeZone:["America/Argentina/Buenos_Aires","America/Argentina/Cordoba","America/Argentina/Salta","America/Argentina/Jujuy","America/Argentina/Tucuman","America/Argentina/Catamarca","America/Argentina/La_Rioja","America/Argentina/San_Juan","America/Argentina/Mendoza","America/Argentina/San_Luis","America/Argentina/Rio_Gallegos","America/Argentina/Ushuaia"]},{label:"Armenia",value:"AM",timeZone:["Asia/Yerevan"]},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU",timeZone:["Australia/Lord_Howe","Antarctica/Macquarie","Australia/Hobart","Australia/Currie","Australia/Melbourne","Australia/Sydney","Australia/Broken_Hill","Australia/Brisbane","Australia/Lindeman","Australia/Adelaide","Australia/Darwin","Australia/Perth","Australia/Eucla"]},{label:"Austria",value:"AT",timeZone:["Europe/Vienna"]},{label:"Azerbaijan",value:"AZ",timeZone:["Asia/Baku"]},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH",timeZone:["Asia/Bahrain"]},{label:"Bangladesh",value:"BD",timeZone:["Asia/Dhaka"]},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY",timeZone:["Europe/Minsk"]},{label:"Belgium",value:"BE",timeZone:["Europe/Brussels"]},{label:"Belize",value:"BZ",timeZone:["America/Belize"]},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT",timeZone:["Asia/Thimphu"]},{label:"Bolivia",value:"BO",timeZone:["America/La_Paz"]},{label:"Bosnia and Herzegovina",value:"BA",timeZone:["Europe/Sarajevo"]},{label:"Botswana",value:"BW",timeZone:["Africa/Gaborone"]},{label:"Brazil",value:"BR",timeZone:["America/Noronha","America/Belem","America/Fortaleza","America/Recife","America/Araguaina","America/Maceio","America/Bahia","America/Sao_Paulo","America/Campo_Grande","America/Cuiaba","America/Santarem","America/Porto_Velho","America/Boa_Vista","America/Manaus","America/Eirunepe","America/Rio_Branco"]},{label:"Brunei Darussalam",value:"BN",timeZone:["Asia/Brunei"]},{label:"Bulgaria",value:"BG",timeZone:["Europe/Sofia"]},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cabo Verde",value:"CV"},{label:"Cambodia",value:"KH",timeZone:["Asia/Phnom_Penh"]},{label:"Cameroon",value:"CM",timeZone:["Africa/Douala"]},{label:"Canada",value:"CA",timeZone:["America/St_Johns","America/Halifax","America/Glace_Bay","America/Moncton","America/Goose_Bay","America/Blanc-Sablon","America/Toronto","America/Nipigon","America/Thunder_Bay","America/Iqaluit","America/Pangnirtung","America/Atikokan","America/Winnipeg","America/Rainy_River","America/Resolute","America/Rankin_Inlet","America/Regina","America/Swift_Current","America/Edmonton","America/Cambridge_Bay","America/Yellowknife","America/Inuvik","America/Creston","America/Dawson_Creek","America/Fort_Nelson","America/Vancouver","America/Whitehorse","America/Dawson"]},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL",timeZone:["America/Santiago","Pacific/Easter"]},{label:"China",value:"CN",timeZone:["Asia/Shanghai","Asia/Urumqi"]},{label:"Colombia",value:"CO",timeZone:["America/Bogota"]},{label:"Comoros",value:"KM"},{label:"Congo",value:"CD",timeZone:["Africa/Kinshasa","Africa/Lubumbashi"]},{label:"Congo",value:"CG"},{label:"Costa Rica",value:"CR",timeZone:["America/Costa_Rica"]},{label:"Croatia",value:"HR",timeZone:["Europe/Zagreb"]},{label:"Cuba",value:"CU",timeZone:["America/Havana"]},{label:"Cyprus",value:"CY"},{label:"Czechia",value:"CZ",timeZone:["Europe/Prague"]},{label:"Cote d Ivoire",value:"CI",timeZone:["Africa/Abidjan"]},{label:"Denmark",value:"DK",timeZone:["Europe/Copenhagen"]},{label:"Djibouti",value:"DJ",timeZone:["Africa/Djibouti"]},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO",timeZone:["America/Santo_Domingo"]},{label:"Ecuador",value:"EC",timeZone:["America/Guayaquil","Pacific/Galapagos"]},{label:"Egypt",value:"EG",timeZone:["Africa/Cairo"]},{label:"El Salvador",value:"SV",timeZone:["America/El_Salvador"]},{label:"Eritrea",value:"ER",timeZone:["Africa/Asmara"]},{label:"Estonia",value:"EE",timeZone:["Europe/Tallinn"]},{label:"Eswatini",value:"SZ"},{label:"Ethiopia",value:"ET",timeZone:["Africa/Addis_Ababa"]},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI",timeZone:["Europe/Helsinki"]},{label:"France",value:"FR",timeZone:["Europe/Paris"]},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE",timeZone:["Asia/Tbilisi"]},{label:"Germany",value:"DE",timeZone:["Europe/Berlin","Europe/Busingen"]},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR",timeZone:["Europe/Athens"]},{label:"Greenland",value:"GL",timeZone:["America/Godthab","America/Danmarkshavn","America/Scoresbysund","America/Thule"]},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT",timeZone:["America/Guatemala"]},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT",timeZone:["America/Port-au-Prince"]},{label:"Honduras",value:"HN",timeZone:["America/Tegucigalpa"]},{label:"Hong Kong",value:"HK",timeZone:["Asia/Hong_Kong"]},{label:"Hungary",value:"HU",timeZone:["Europe/Budapest"]},{label:"Iceland",value:"IS",timeZone:["Atlantic/Reykjavik"]},{value:"IN",label:"India",timeZone:["Asia/Kolkata"]},{value:"ID",label:"Indonesia",timeZone:["Asia/Jakarta","Asia/Pontianak","Asia/Makassar","Asia/Jayapura"]},{value:"IR",label:"Iran",timeZone:["Asia/Tehran"]},{value:"IQ",label:"Iraq",timeZone:["Asia/Baghdad"]},{value:"IE",label:"Ireland",timeZone:["Europe/Dublin"]},{value:"IL",label:"Israel",timeZone:["Asia/Jerusalem"]},{value:"IT",label:"Italy",timeZone:["Europe/Rome"]},{value:"JM",label:"Jamaica",timeZone:["America/Jamaica"]},{value:"JP",label:"Japan",timeZone:["Asia/Tokyo"]},{value:"JO",label:"Jordan",timeZone:["Asia/Amman"]},{value:"KZ",label:"Kazakhstan",timeZone:["Asia/Almaty","Asia/Qyzylorda","Asia/Aqtobe","Asia/Aqtau","Asia/Oral"]},{value:"KE",label:"Kenya",timeZone:["Africa/Nairobi"]},{value:"KP",label:"Korea"},{value:"KR",label:"Korea",timeZone:["Asia/Seoul"]},{value:"KW",label:"Kuwait",timeZone:["Asia/Kuwait"]},{value:"KG",label:"Kyrgyzstan",timeZone:["Asia/Bishkek"]},{value:"LV",label:"Latvia",timeZone:["Europe/Riga"]},{value:"LB",label:"Lebanon",timeZone:["Asia/Beirut"]},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libya",timeZone:["Africa/Tripoli"]},{value:"LI",label:"Liechtenstein",timeZone:["Europe/Vaduz"]},{value:"LT",label:"Lithuania",timeZone:["Europe/Vilnius"]},{value:"LU",label:"Luxembourg",timeZone:["Europe/Luxembourg"]},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia",timeZone:["Asia/Kuala_Lumpur","Asia/Kuching"]},{value:"MV",label:"Maldives",timeZone:["Indian/Maldives"]},{value:"ML",label:"Mali",timeZone:["Africa/Bamako"]},{value:"MT",label:"Malta",timeZone:["Europe/Malta"]},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"MX",label:"Mexico",timeZone:["America/Mexico_City","America/Cancun","America/Merida","America/Monterrey","America/Matamoros","America/Mazatlan","America/Chihuahua","America/Ojinaga","America/Hermosillo","America/Tijuana","America/Bahia_Banderas"]},{value:"MD",label:"Moldova",timeZone:["Europe/Chisinau"]},{value:"MC",label:"Monaco",timeZone:["Europe/Monaco"]},{value:"MN",label:"Mongolia",timeZone:["Asia/Ulaanbaatar","Asia/Hovd","Asia/Choibalsan"]},{value:"ME",label:"Montenegro",timeZone:["Europe/Podgorica"]},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco",timeZone:["Africa/Casablanca"]},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar",timeZone:["Asia/Rangoon"]},{value:"NA",label:"Namibia"},{value:"NP",label:"Nepal",timeZone:["Asia/Kathmandu"]},{value:"NL",label:"Netherlands",timeZone:["Europe/Amsterdam"]},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand",timeZone:["Pacific/Auckland","Pacific/Chatham"]},{value:"NI",label:"Nicaragua",timeZone:["America/Managua"]},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria",timeZone:["Africa/Lagos"]},{value:"NO",label:"Norway",timeZone:["Europe/Oslo"]},{value:"OM",label:"Oman",timeZone:["Asia/Muscat"]},{value:"PK",label:"Pakistan",timeZone:["Asia/Karachi"]},{value:"PS",label:"Palestine"},{value:"PA",label:"Panama",timeZone:["America/Panama"]},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay",timeZone:["America/Asuncion"]},{value:"PE",label:"Peru",timeZone:["America/Lima"]},{value:"PH",label:"Philippines",timeZone:["Asia/Manila"]},{value:"PL",label:"Poland",timeZone:["Europe/Warsaw"]},{value:"PT",label:"Portugal",timeZone:["Europe/Lisbon","Atlantic/Madeira","Atlantic/Azores"]},{value:"PR",label:"Puerto Rico",timeZone:["America/Puerto_Rico"]},{value:"QA",label:"Qatar",timeZone:["Asia/Qatar"]},{value:"MK",label:"Macedonia",timeZone:["Europe/Skopje"]},{value:"RO",label:"Romania",timeZone:["Europe/Bucharest"]},{value:"RU",label:"Russia",timeZone:["Europe/Kaliningrad","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk","Asia/Yekaterinburg","Asia/Omsk","Asia/Novosibirsk","Asia/Barnaul","Asia/Novokuznetsk","Asia/Krasnoyarsk","Asia/Irkutsk","Asia/Chita","Asia/Yakutsk","Asia/Khandyga","Asia/Vladivostok","Asia/Ust-Nera","Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk","Asia/Kamchatka","Asia/Anadyr"]},{value:"RW",label:"Rwanda",timeZone:["Africa/Kigali"]},{value:"RE",label:"RÃ©union",timeZone:["Indian/Reunion"]},{value:"SA",label:"Saudi Arabia",timeZone:["Asia/Riyadh"]},{value:"SN",label:"Senegal",timeZone:["Africa/Dakar"]},{value:"RS",label:"Serbia",timeZone:["Europe/Belgrade"]},{value:"SG",label:"Singapore",timeZone:["Asia/Singapore"]},{value:"SK",label:"Slovakia",timeZone:["Europe/Bratislava"]},{value:"SI",label:"Slovenia",timeZone:["Europe/Ljubljana"]},{value:"SO",label:"Somalia",timeZone:["Africa/Mogadishu"]},{value:"ZA",label:"South Africa",timeZone:["Africa/Johannesburg"]},{value:"SS",label:"South Sudan"},{value:"ES",label:"Spain",timeZone:["Europe/Madrid","Africa/Ceuta","Atlantic/Canary"]},{value:"LK",label:"Sri Lanka",timeZone:["Asia/Colombo"]},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SE",label:"Sweden",timeZone:["Europe/Stockholm"]},{value:"CH",label:"Switzerland",timeZone:["Europe/Zurich"]},{value:"SY",label:"Syria",timeZone:["Asia/Damascus"]},{value:"TW",label:"Taiwan",timeZone:["Asia/Taipei"]},{value:"TJ",label:"Tajikistan",timeZone:["Asia/Dushanbe"]},{value:"TZ",label:"Tanzania"},{value:"TH",label:"Thailand",timeZone:["Asia/Bangkok"]},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TO",label:"Tonga"},{value:"TN",label:"Tunisia",timeZone:["Africa/Tunis"]},{value:"TR",label:"Turkey",timeZone:["Europe/Istanbul"]},{value:"TM",label:"Turkmenistan",timeZone:["Asia/Ashgabat"]},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine",timeZone:["Europe/Kiev","Europe/Uzhgorod","Europe/Zaporozhye"]},{value:"AE",label:"United Arab Emirates",timeZone:["Asia/Dubai"]},{value:"GB",label:"United Kingdom",timeZone:["Europe/London"]},{value:"US",label:"United States",timeZone:["America/New_York","America/Detroit","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Indiana/Indianapolis","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Chicago","America/Indiana/Tell_City","America/Indiana/Knox","America/Menominee","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/North_Dakota/Beulah","America/Denver","America/Boise","America/Phoenix","America/Los_Angeles","America/Anchorage","America/Juneau","America/Sitka","America/Metlakatla","America/Yakutat","America/Nome","America/Adak","Pacific/Honolulu"]},{value:"UY",label:"Uruguay",timeZone:["America/Montevideo"]},{value:"UZ",label:"Uzbekistan",timeZone:["Asia/Samarkand","Asia/Tashkent"]},{value:"VE",label:"Venezuela",timeZone:["America/Caracas"]},{value:"VN",label:"Vietnam",timeZone:["Asia/Ho_Chi_Minh"]},{value:"YE",label:"Yemen",timeZone:["Asia/Aden"]},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe",timeZone:["Africa/Harare"]}],at=({fields:e,translate:a})=>{let c=[];return Object.keys(e).forEach(l=>{let s=e[l];c.push({title:s.label?s.label:l,dataIndex:s.dataIndex?s.dataIndex.join("."):l,isDate:s.type==="date"})}),c};function tt({fields:e,translate:a,moneyFormatter:c,dateFormat:l}){let s=[];return Object.keys(e).forEach(o=>{let n=e[o];const d=n.dataIndex?n.dataIndex:[o],h={boolean:{title:n.label?a(n.label):a(o),dataIndex:d,onCell:()=>({props:{style:{width:"60px"}}}),render:(p,r)=>t.jsx(wa,{checked:r[o],checkedChildren:t.jsx(fa,{}),unCheckedChildren:t.jsx(ha,{})})},date:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>{const u=X(r[o]).format(l);return t.jsx(F,{bordered:!1,color:n.color,children:u})}},currency:{title:n.label?a(n.label):a(o),dataIndex:d,onCell:()=>({style:{textAlign:"right",whiteSpace:"nowrap"}}),render:(p,r)=>c({amount:r[o],currency_code:r.currency})},async:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>{var u;return t.jsx(F,{bordered:!1,color:n.color||((u=r[o])==null?void 0:u.color)||r.color,children:p})}},color:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>{var u;return t.jsx(F,{bordered:!1,color:p,children:(u=ja.find(m=>m.value===p))==null?void 0:u.label})}},stringWithColor:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>t.jsx(F,{bordered:!1,color:r.color||n.color,children:p})},tag:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>t.jsx(F,{bordered:!1,color:n.color,children:r[o]&&r[o]})},selectWithFeedback:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>{if(n.renderAsTag){const u=n.options.find(m=>m.value===r[o]);return t.jsx(F,{bordered:!1,color:u==null?void 0:u.color,children:r[o]&&a(r[o])})}else return r[o]&&a(r[o])}},select:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>{if(n.renderAsTag){const u=n.options.find(m=>m.value===r[o]);return t.jsx(F,{bordered:!1,color:u==null?void 0:u.color,children:r[o]&&r[o]})}else return r[o]&&r[o]}},selectWithTranslation:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>{if(n.renderAsTag){const u=n.options.find(m=>m.value===r[o]);return t.jsx(F,{bordered:!1,color:u==null?void 0:u.color,children:r[o]&&a(r[o])})}else return r[o]&&a(r[o])}},array:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>r[o].map(u=>t.jsx(F,{bordered:!1,color:n.colors[u],children:u},`${ye.generate()}`))},country:{title:n.label?a(n.label):a(o),dataIndex:d,render:(p,r)=>{const u=et.find(m=>m.value===r[o]);return t.jsxs(F,{bordered:!1,color:n.color||void 0,children:[(u==null?void 0:u.icon)&&(u==null?void 0:u.icon)+" ",(u==null?void 0:u.label)&&a(u.label)]})}}},f={title:n.label?a(n.label):a(o),dataIndex:d},g=n.type;n.disableForTable||(Object.keys(h).includes(g)?s.push(h[g]):s.push(f))}),s}function nt({config:e}){const{dateFormat:a}=$e();let{readColumns:c,fields:l}=e;const s=ue(),{result:o}=ne(We),{state:n}=G(),{isReadBoxOpen:d}=n,[h,f]=i.useState([]);l&&(c=[...at({fields:l,translate:s})]),i.useEffect(()=>{const r=[];c.map(u=>{const m=u.dataIndex,A=u.title,v=u.isDate||!1;let C=Re(o,m);C=v?X(C).format(a):C,r.push({propsKey:m,label:A,value:C})}),f(r)},[o]);const g=d?{display:"block",opacity:1}:{display:"none",opacity:0},p=h.map(r=>t.jsxs(pe,{gutter:12,children:[t.jsx(z,{className:"gutter-row",span:8,children:t.jsx("p",{children:r.label})}),t.jsx(z,{className:"gutter-row",span:2,children:t.jsx("p",{children:" : "})}),t.jsx(z,{className:"gutter-row",span:14,children:t.jsx("p",{children:r.value})})]},r.propsKey));return t.jsx("div",{style:g,children:p})}function lt({config:e,onRerender:a}){let{entity:c,searchConfig:l}=e;const{displayLabels:s,searchFields:o,outputValue:n="_id"}=l,d=te(),{crudContextAction:h}=G(),{panel:f,collapsedBox:g,readBox:p}=h,{result:r,isLoading:u,isSuccess:m}=ne(Ja),[A,v]=i.useState([]),[C,y]=i.useState(void 0),b=i.useRef(!1),[S,w]=i.useState(!1),[E,j]=i.useState(""),[N,Y]=i.useState(""),[,U]=Za(()=>{Y(E)},500,[E]),D=Z=>s.map(x=>Z[x]).join(" ");i.useEffect(()=>{if(N!=""){const Z={q:N,fields:o};d(k.search({entity:c,options:Z}))}return()=>{U()}},[N]);const L=Z=>{Z&&Z!=""&&(b.current=!0,w(!0),v([]),y(void 0),j(Z))},R=Z=>{const x=r.find(T=>T[n]===Z);d(k.currentItem({data:x})),f.open(),g.open(),p.open(),a()};return i.useEffect(()=>{b.current&&(m?v(r):(w(!1),y(void 0),v([])))},[m,r]),t.jsx(we,{loading:u,showSearch:!0,allowClear:!0,placeholder:t.jsx(Aa,{style:{float:"right",padding:"8px 0"}}),defaultActiveFirstOption:!1,filterOption:!1,notFoundContent:S?"... Searching":t.jsx(na,{}),value:C,onSearch:L,style:{width:"100%"},onSelect:R,children:A.map(Z=>t.jsx(we.Option,{value:Z[n],children:D(Z)},Z[n]))})}function ot({config:e}){const[a,c]=i.useState([0]),l=()=>{c([a+1])};return a.map(s=>t.jsx(lt,{config:e,onRerender:l},s))}function it({config:e}){const{crudContextAction:a}=G(),{collapsedBox:c,panel:l}=a,{ADD_NEW_ENTITY:s}=e,o=()=>{l.open(),c.close()};return t.jsx(J,{onClick:o,type:"primary",children:s})}function rt({config:e,extra:a=[]}){let{entity:c,dataTableColumns:l,DATATABLE_TITLE:s,fields:o,searchConfig:n}=e;const{crudContextAction:d}=G(),{panel:h,collapsedBox:f,modal:g,readBox:p,editBox:r,advancedBox:u}=d,m=ue(),{moneyFormatter:A}=Ma(),{dateFormat:v}=$e(),C=[{label:m("Show"),key:"read",icon:t.jsx(ga,{})},{label:m("Edit"),key:"edit",icon:t.jsx(Le,{})},...a,{type:"divider"},{label:m("Delete"),key:"delete",icon:t.jsx(Te,{})}],y=x=>{D(k.currentItem({data:x})),h.open(),f.open(),p.open()};function b(x){D(k.currentItem({data:x})),D(k.currentAction({actionType:"update",data:x})),r.open(),h.open(),f.open()}function S(x){D(k.currentAction({actionType:"delete",data:x})),g.open()}function w(x){D(k.currentItem({data:x})),D(k.currentAction({actionType:"update",data:x})),u.open(),h.open(),f.open()}let E=[];o?E=[...tt({fields:o,translate:m,moneyFormatter:A,dateFormat:v})]:E=[...l],l=[...E,{title:"",key:"action",fixed:"right",render:(x,T)=>t.jsx(la,{menu:{items:C,onClick:({key:$})=>{switch($){case"read":y(T);break;case"edit":b(T);break;case"delete":S(T);break;case"updatePassword":w(T);break}}},trigger:["click"],children:t.jsx(oa,{style:{cursor:"pointer",fontSize:"24px"},onClick:$=>$.preventDefault()})})}];const{result:j,isLoading:N}=ne(Ya),{pagination:Y,items:U}=j,D=te(),L=i.useCallback(x=>{const T={page:x.current||1,items:x.pageSize||10};D(k.list({entity:c,options:T}))},[]),R=x=>{const $={q:x.target.value,fields:(n==null?void 0:n.searchFields)||""};D(k.list({entity:c,options:$}))},Z=()=>{D(k.list({entity:c}))};return i.useEffect(()=>{const x=new AbortController;return Z(),()=>{x.abort()}},[]),t.jsxs(t.Fragment,{children:[t.jsx(ka,{onBack:()=>window.history.back(),backIcon:t.jsx(Ba,{}),title:s,ghost:!1,extra:[t.jsx(xa,{onChange:R,placeholder:m("search"),allowClear:!0},"searchFilterDataTable}"),t.jsx(J,{onClick:L,icon:t.jsx(ya,{}),children:m("Refresh")},`${ye.generate()}`),t.jsx(it,{config:e},`${ye.generate()}`)],style:{padding:"20px 0px"}}),t.jsx(Ia,{columns:l,rowKey:x=>x._id,dataSource:U,pagination:Y,loading:N,onChange:L,scroll:{x:!0}})]})}function st({children:e}){return t.jsx(ia,{children:e})}const ct=({onChange:e,title:a})=>t.jsx("div",{className:"collapseBoxHeader",onClick:e,children:a}),ut=({isOpen:e,children:a})=>{const c=e?{display:"block",opacity:1}:{display:"none",opacity:0};return t.jsx("div",{className:"TopCollapseBox",children:t.jsx("div",{style:c,children:t.jsx(pe,{children:t.jsxs(z,{span:24,children:[" ",a]})})})})},dt=({isOpen:e,children:a})=>{const c=e?{display:"none",opacity:0}:{display:"block",opacity:1};return t.jsx("div",{className:"BottomCollapseBox",children:t.jsx("div",{style:c,children:t.jsx(pe,{children:t.jsxs(z,{span:24,children:[" ",a]})})})})};function mt({topContent:e,bottomContent:a,buttonTitle:c,isCollapsed:l,onCollapse:s}){const o=l?"collapsed":"";return t.jsxs(t.Fragment,{children:[t.jsx(ut,{isOpen:l,children:e}),t.jsxs("div",{className:"collapseBox "+o,children:[t.jsx(ct,{title:c,onChange:s}),t.jsx("div",{className:"whiteBg"}),t.jsx(dt,{isOpen:l,children:a})]})]})}const{useBreakpoint:bt}=Ta;function vt({config:e,topContent:a,bottomContent:c,fixHeaderPanel:l}){bt();const{ADD_NEW_ENTITY:s}=e,{state:o,crudContextAction:n}=G(),{isPanelClose:d,isBoxCollapsed:h}=o,{panel:f,collapsedBox:g}=n,[p,r]=i.useState(d),[u,m]=i.useState("-1px"),[A,v]=i.useState(0),[C,y]=i.useState("20px");i.useEffect(()=>{let w=[];return d?(v(0),y("20px"),w=setTimeout(()=>{m("-1px"),r(d)},200)):(r(d),m(0),w=setTimeout(()=>{v(1),y(0)},200)),()=>clearTimeout(w)},[d]);const b=()=>{f.collapse()},S=()=>{g.collapse()};return t.jsx(Ue,{title:e.PANEL_TITLE,placement:"right",onClose:b,open:!d,width:450,children:t.jsxs("div",{className:"sidePanelContent",style:{opacity:A,paddingTop:C},children:[l,t.jsx(mt,{buttonTitle:s,isCollapsed:h,onCollapse:S,topContent:a,bottomContent:c})]})})}const{Content:pt}=Ca,ft=({children:e})=>{const{state:a,crudContextAction:c}=G();_e();const{isPanelClose:l}=a,[s,o]=i.useState(l);return i.useEffect(()=>{let n=[];return l?n=setTimeout(()=>{o(l)},200):o(l),()=>clearTimeout(n)},[l]),t.jsx(pt,{className:"whiteBox shadow layoutPadding",style:{margin:"30px auto",width:"100%",maxWidth:"100%",flex:"none"},children:e})};function ht({children:e,config:a,sidePanelTopContent:c,sidePanelBottomContent:l,fixHeaderPanel:s}){return t.jsx(t.Fragment,{children:t.jsxs(st,{children:[t.jsx(vt,{config:a,topContent:c,bottomContent:l,fixHeaderPanel:s}),t.jsxs(ft,{children:[" ",e]})]})})}function At({config:e,formElements:a,withUpload:c}){const l=ue(),{crudContextAction:s,state:o}=G(),{deleteModalLabels:n}=e,{modal:d,editBox:h}=s,{can:f}=Pe(),{isReadBoxOpen:g,isEditBoxOpen:p}=o,{result:r}=ne(We),u=te(),[m,A]=i.useState("");i.useEffect(()=>{if(r){const b=n.map(S=>r[S]).join(" ");A(b)}},[r]);const v=()=>{u(k.currentAction({actionType:"delete",data:r})),d.open()},C=()=>{u(k.currentAction({actionType:"update",data:r})),h.open()},y=g||p?{opacity:1}:{opacity:0};return t.jsxs(t.Fragment,{children:[t.jsxs(pe,{style:y,gutter:24,children:[t.jsx(z,{span:10,children:t.jsx("p",{style:{marginBottom:"10px"},children:m})}),t.jsxs(z,{span:14,children:[f.delete&&t.jsx(J,{onClick:v,type:"text",icon:t.jsx(Te,{}),size:"small",style:{float:"right",marginLeft:"5px",marginTop:"10px"},children:l("remove")}),f.update&&t.jsx(J,{onClick:C,type:"text",icon:t.jsx(Le,{}),size:"small",style:{float:"right",marginLeft:"0px",marginTop:"10px"},children:l("edit")})]}),t.jsx(z,{span:24,children:t.jsx("div",{className:"line"})}),t.jsx("div",{className:"space10"})]}),t.jsx(nt,{config:e}),t.jsx(Qa,{config:e,formElements:a,withUpload:c})]})}function gt({config:e}){const{crudContextAction:a}=G(),{can:c}=Pe(),{collapsedBox:l}=a,s=()=>{l.close()};return t.jsxs(pe,{gutter:8,children:[t.jsx(z,{className:"gutter-row",span:c.create?21:24,children:t.jsx(ot,{config:e})}),c.create&&t.jsx(z,{className:"gutter-row",span:3,children:t.jsx(J,{onClick:s,block:!0,icon:t.jsx(Na,{})})})]})}function Lt({config:e,createForm:a,updateForm:c,withUpload:l=!1}){const s=te();return i.useLayoutEffect(()=>{s(k.resetState())},[]),t.jsxs(ht,{config:e,fixHeaderPanel:t.jsx(gt,{config:e}),sidePanelBottomContent:t.jsx(qa,{config:e,formElements:a,withUpload:l}),sidePanelTopContent:t.jsx(At,{config:e,formElements:c,withUpload:l}),children:[t.jsx(rt,{config:e}),t.jsx(Xa,{config:e})]})}export{Lt as C,et as c};
