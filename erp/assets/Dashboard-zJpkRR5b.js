import{r as i,j as e,m as me,n as Ce,u as ze}from"./index-CYKalyeL.js";import"./currency.es-9OAR_aOO.js";import{F as ke,D as Be,E as De,s as we,O as U,a as Oe,C as Ae,S as le,b as ae,B as ne,c as Pe,T as ie,I as Te}from"./ErpApp-CeydZZZJ.js";import{X as _,b as H,aw as Re,ax as Ie,an as Fe,ay as Le,at as xe,az as u,aA as N,aB as C,aC as j,ai as w,ar as Me,aD as ye}from"./IdurarOs-BGw2PPGe.js";import{u as $e}from"./useFetch-DFPLtO1m.js";import{e as re}from"./actions-BXPHSdIc.js";import{F as Ee}from"./Table-CBI2Olew.js";import{A as V}from"./index-DpmZfUgC.js";import{W as Ne}from"./WarningOutlined-D7jnaeZ1.js";import{T as ce}from"./index-BkNufn0G.js";import{C as O}from"./index-DcFHw6qe.js";import{P as Ve}from"./progress-Cmyt5DE1.js";import{C as W}from"./CheckCircleOutlined-O4_MZFzP.js";import{C as Ue}from"./ClockCircleOutlined-B1tuOUVZ.js";import"./pickAttrs-CsXZNnOo.js";import"./index-BGUfHx-u.js";import"./DownOutlined-Bn5vGHe8.js";import"./Pagination-CRz1TW9a.js";import"./useClosable-BvmnJMVE.js";import"./Skeleton-BxPCSHmg.js";import"./index-CAMKOCuO.js";import"./PlusOutlined-FeH87sEb.js";var We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M193 796c0 17.7 14.3 32 32 32h574c17.7 0 32-14.3 32-32V563c0-176.2-142.8-319-319-319S193 386.8 193 563v233zm72-233c0-136.4 110.6-247 247-247s247 110.6 247 247v193H404V585c0-5.5-4.5-10-10-10h-44c-5.5 0-10 4.5-10 10v171h-75V563zm-48.1-252.5l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3l-67.9-67.9a8.03 8.03 0 00-11.3 0l-39.6 39.6a8.03 8.03 0 000 11.3l67.9 67.9c3.1 3.1 8.1 3.1 11.3 0zm669.6-79.2l-39.6-39.6a8.03 8.03 0 00-11.3 0l-67.9 67.9a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l67.9-67.9c3.1-3.2 3.1-8.2 0-11.3zM832 892H192c-17.7 0-32 14.3-32 32v24c0 4.4 3.6 8 8 8h688c4.4 0 8-3.6 8-8v-24c0-17.7-14.3-32-32-32zM484 180h56c4.4 0 8-3.6 8-8V76c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v96c0 4.4 3.6 8 8 8z"}}]},name:"alert",theme:"outlined"},_e=function(l,s){return i.createElement(_,H({},l,{ref:s,icon:We}))};const de=i.forwardRef(_e);var He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"},Qe=function(l,s){return i.createElement(_,H({},l,{ref:s,icon:He}))};const ue=i.forwardRef(Qe);var qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},Ge=function(l,s){return i.createElement(_,H({},l,{ref:s,icon:qe}))};const he=i.forwardRef(Ge);function pe({...o}){const l=Fe();let{entity:s,dataTableColumns:d}=o;const n=[{label:l("Show"),key:"read",icon:e.jsx(Re,{})},{label:l("Edit"),key:"edit",icon:e.jsx(Ie,{})},{label:l("Download"),key:"download",icon:e.jsx(ke,{})}],f=me(),r=Ce(),I=m=>{r(re.currentItem({data:m})),f(`/${s}/read/${m._id}`)},v=m=>{r(re.currentAction({actionType:"update",data:m})),f(`/${s}/update/${m._id}`)},F=m=>{window.open(`${Le}${s}/${s}-${m._id}.pdf`,"_blank")};d=[...d,{title:"",key:"action",render:(m,b)=>e.jsx(Be,{menu:{items:n,onClick:({key:y})=>{switch(y){case"read":I(b);break;case"edit":v(b);break;case"download":F(b);break}}},trigger:["click"],children:e.jsx(De,{style:{cursor:"pointer",fontSize:"24px"},onClick:y=>y.preventDefault()})})}];const c=()=>xe.list({entity:s}),{result:A,isLoading:p,isSuccess:P}=$e(c),a=()=>P&&A?A.slice(0,5):[];return e.jsx(Ee,{columns:d,rowKey:m=>m._id,dataSource:P&&a(),pagination:!1,loading:p,scroll:{x:!0}})}const{Title:g,Text:gt}=Me;function h(){return{Authorization:`Bearer ${((JSON.parse(localStorage.getItem("auth"))||{}).current||{}).token}`}}function x({icon:o,label:l,value:s,color:d,subtitle:n,loading:f,onClick:r}){return e.jsx(j,{xs:12,sm:8,md:6,lg:4,children:e.jsxs(O,{onClick:r,style:{borderRadius:10,border:`1px solid ${d}22`,cursor:r?"pointer":"default",transition:"box-shadow 0.2s"},bodyStyle:{padding:"14px 12px",textAlign:"center"},hoverable:!!r,children:[e.jsx("div",{style:{fontSize:24,color:d,marginBottom:4},children:o}),f?e.jsx(ye,{size:"small"}):e.jsx("div",{style:{fontSize:24,fontWeight:800,color:"#034D57",lineHeight:1},children:(s==null?void 0:s.toLocaleString())??"—"}),e.jsx("div",{style:{fontSize:12,color:"#555",marginTop:3,fontWeight:600},children:l}),n&&e.jsx("div",{style:{fontSize:11,color:"#aaa",marginTop:1},children:n})]})})}function z({title:o,value:l,subtitle:s,loading:d,color:n="#034D57"}){const f=!d&&l!==void 0?Number(l||0).toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}):null;return e.jsx(j,{xs:12,sm:12,md:6,lg:6,children:e.jsxs(O,{style:{borderRadius:10,borderLeft:`3px solid ${n}`},bodyStyle:{padding:"14px 16px"},children:[e.jsx("div",{style:{fontSize:12,color:"#888",fontWeight:600,marginBottom:6},children:o}),d?e.jsx(ye,{size:"small"}):e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:7},children:[e.jsx(U,{size:14,style:{filter:"brightness(0) saturate(100%) invert(20%) sepia(60%) saturate(400%) hue-rotate(160deg)"}}),e.jsx("span",{style:{fontSize:20,fontWeight:800,color:n,fontVariantNumeric:"tabular-nums"},children:f??"0.000"})]}),e.jsx("div",{style:{fontSize:11,color:"#aaa",marginTop:2},children:s})]})})}function R({done:o,label:l,action:s,path:d,navigate:n}){return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"6px 0",borderBottom:"1px solid #f0f0f0"},children:[o?e.jsx(W,{style:{color:"#52c41a",fontSize:16}}):e.jsx(Ue,{style:{color:"#faad14",fontSize:16}}),e.jsx("span",{style:{flex:1,fontSize:13,color:o?"#888":"#333",textDecoration:o?"line-through":"none"},children:l}),!o&&e.jsxs(w,{size:"small",type:"link",style:{color:"#034D57",padding:0},onClick:()=>n(d),children:[s," →"]})]})}function Je(){var G,J,K,X,Y,Z,ee,te;const o=me(),l=ze(we),[s,d]=i.useState(null),[n,f]=i.useState(!0),[r,I]=i.useState(null),[v,F]=i.useState(null),[c,A]=i.useState(null),[p,P]=i.useState(null),[a,m]=i.useState(null);i.useEffect(()=>{fetch(u+"rfq/stats",{headers:h()}).then(t=>t.json()).then(t=>{t.success&&d(t.result)}).catch(()=>{}).finally(()=>f(!1)),fetch(u+"opportunity/stats",{headers:h()}).then(t=>t.json()).then(t=>{t.success&&I(t.result)}).catch(()=>{}),fetch(u+"employee/stats",{headers:h()}).then(t=>t.json()).then(t=>{t.success&&A(t.result)}).catch(()=>{}),Promise.all([fetch(u+"vendorbill/ap-summary",{headers:h()}).then(t=>t.json()).catch(()=>({})),fetch(u+"expense/summary",{headers:h()}).then(t=>t.json()).catch(()=>({})),fetch(u+"bankaccount/list",{headers:h()}).then(t=>t.json()).catch(()=>({})),fetch(u+"project/list?status=active",{headers:h()}).then(t=>t.json()).catch(()=>({}))]).then(([t,S,B,k])=>{F({apDue:t.grandTotal||0,expTotal:S.grandTotal||0,bankBal:(B.result||[]).reduce((T,D)=>T+(D.currency==="OMR"&&D.currentBalance||0),0),activeProj:(k.result||[]).length})}).catch(()=>{}),Promise.all([fetch(u+"employee/list?items=1",{headers:h()}).then(t=>t.json()).catch(()=>({})),fetch(u+"product/list?items=1",{headers:h()}).then(t=>t.json()).catch(()=>({})),fetch(u+"bankaccount/list?items=1",{headers:h()}).then(t=>t.json()).catch(()=>({})),fetch(u+"client/list?items=1",{headers:h()}).then(t=>t.json()).catch(()=>({}))]).then(([t,S,B,k])=>{var T,D,se,oe;P({employees:((T=t.pagination)==null?void 0:T.count)||0,products:((D=S.pagination)==null?void 0:D.count)||0,bankAccounts:((se=B.pagination)==null?void 0:se.count)||0,clients:((oe=k.pagination)==null?void 0:oe.count)||0})}).catch(()=>{}),Promise.all([fetch(u+"reports/overdue",{headers:h()}).then(t=>t.json()).catch(()=>({})),fetch(u+"payrollrun/list?items=1",{headers:h()}).then(t=>t.json()).catch(()=>({}))]).then(([t,S])=>{m({overdueCount:(t.result||[]).length,overdueAmount:(t.result||[]).reduce((B,k)=>B+(k.total-(k.totalPaid||0)),0),lastPayroll:(S.result||[])[0]||null})}).catch(()=>{})},[]);const b=async({entity:t,currency:S})=>xe.summary({entity:t,options:{currency:S}}),{result:y,isLoading:Q,onFetch:je}=N(),{result:L,isLoading:ge,onFetch:fe}=N(),{result:M,isLoading:ve,onFetch:be}=N();i.useEffect(()=>{const t=(l==null?void 0:l.default_currency_code)||"OMR";je(b({entity:"invoice",currency:t})),fe(b({entity:"quote",currency:t})),be(b({entity:"payment",currency:t}))},[l==null?void 0:l.default_currency_code]);const q=[{title:"#",dataIndex:"number",width:70},{title:"Client",dataIndex:["client","name"],ellipsis:!0},{title:"Total",dataIndex:"total",align:"right",render:t=>e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4,fontSize:12},children:[e.jsx(U,{size:10}),Number(t||0).toLocaleString("en-US",{minimumFractionDigits:3})]})},{title:"Status",dataIndex:"status",width:90,render:t=>e.jsx("span",{style:{fontSize:12,textTransform:"capitalize"},children:t})}];if(!l)return null;const $=p?[p.employees>0,p.products>0,p.bankAccounts>0,p.clients>0].filter(Boolean).length:0,E=4,Se=p&&$<E;return e.jsxs(e.Fragment,{children:[a&&(a.overdueCount>0||((G=s==null?void 0:s.byPriority)==null?void 0:G.ior)>0)&&e.jsxs("div",{style:{marginBottom:20},children:[e.jsx(g,{level:5,style:{color:"#034D57",textTransform:"uppercase",fontSize:12,letterSpacing:1.5,marginBottom:10},children:"Today at a Glance"}),e.jsxs(C,{gutter:[10,10],children:[a.overdueCount>0&&e.jsx(j,{xs:24,sm:12,children:e.jsx(V,{type:"error",showIcon:!0,icon:e.jsx(Ne,{}),message:e.jsxs("span",{children:[e.jsx("strong",{children:a.overdueCount})," overdue invoice",a.overdueCount>1?"s":""," — total"," ",e.jsxs("strong",{style:{display:"inline-flex",alignItems:"center",gap:3},children:[e.jsx(U,{size:10})," ",Number(a.overdueAmount||0).toLocaleString("en-US",{minimumFractionDigits:3})]})]}),action:e.jsx(w,{size:"small",onClick:()=>o("/invoice"),children:"View"}),style:{borderRadius:8}})}),((J=s==null?void 0:s.byPriority)==null?void 0:J.ior)>0&&e.jsx(j,{xs:24,sm:12,children:e.jsx(V,{type:"warning",showIcon:!0,icon:e.jsx(de,{}),message:e.jsxs("span",{children:[e.jsx("strong",{children:s.byPriority.ior})," IOR priority RFQ",s.byPriority.ior>1?"s":""," need quoting"]}),action:e.jsx(w,{size:"small",onClick:()=>o("/rfq?priority=ior"),children:"View"}),style:{borderRadius:8}})}),a.lastPayroll&&e.jsx(j,{xs:24,sm:12,children:e.jsx(V,{type:a.lastPayroll.status==="draft"?"warning":"info",showIcon:!0,icon:e.jsx(ue,{}),message:e.jsxs("span",{children:["Payroll ",a.lastPayroll.month,"/",a.lastPayroll.year," is"," ",e.jsx(ce,{color:a.lastPayroll.status==="approved"?"green":a.lastPayroll.status==="paid"?"blue":"orange",style:{marginLeft:4},children:(K=a.lastPayroll.status)==null?void 0:K.toUpperCase()})]}),action:e.jsx(w,{size:"small",onClick:()=>o("/payroll"),children:"View"}),style:{borderRadius:8}})})]})]}),Se&&e.jsx("div",{style:{marginBottom:20},children:e.jsxs(O,{style:{borderRadius:10,borderLeft:"4px solid #faad14"},bodyStyle:{padding:"16px 20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[e.jsxs(g,{level:5,style:{margin:0,color:"#034D57"},children:["Setup Checklist — ",$,"/",E," complete"]}),e.jsx(Ve,{type:"circle",size:44,percent:Math.round($/E*100),strokeColor:"#4CB480",format:t=>e.jsxs("span",{style:{fontSize:12,fontWeight:700},children:[t,"%"]})})]}),e.jsx(R,{done:p.clients>0,label:"Add clients/customers",action:"Add client",path:"/customer",navigate:o}),e.jsx(R,{done:p.products>0,label:"Add products & services catalog",action:"Add products",path:"/products",navigate:o}),e.jsx(R,{done:p.employees>0,label:"Add employees with salary details",action:"Add employees",path:"/employees",navigate:o}),e.jsx(R,{done:p.bankAccounts>0,label:"Configure bank accounts",action:"Add bank account",path:"/bank-accounts",navigate:o})]})}),e.jsxs("div",{style:{marginBottom:20},children:[e.jsx(g,{level:5,style:{color:"#034D57",textTransform:"uppercase",fontSize:12,letterSpacing:1.5,marginBottom:12},children:"Quick Actions"}),e.jsx(C,{gutter:[12,12],children:[{label:"New Quote",icon:e.jsx(Oe,{}),color:"#034D57",path:"/quote/create"},{label:"New Invoice",icon:e.jsx(Ae,{}),color:"#4CB480",path:"/invoice/create"},{label:"New PO",icon:e.jsx(le,{}),color:"#722ed1",path:"/purchase-order/create"},{label:"View RFQs",icon:e.jsx(ae,{}),color:"#1890ff",path:"/rfq"},{label:"Opportunities",icon:e.jsx(ne,{}),color:"#fa8c16",path:"/opportunities"},{label:"Add Employee",icon:e.jsx(he,{}),color:"#52c41a",path:"/employees"}].map(t=>e.jsx(j,{xs:12,sm:8,md:4,children:e.jsx(w,{block:!0,icon:t.icon,onClick:()=>o(t.path),style:{height:52,borderRadius:8,borderColor:t.color,color:t.color,fontWeight:600,fontSize:13},children:t.label})},t.label))})]}),e.jsxs("div",{style:{marginBottom:6},children:[e.jsx(g,{level:5,style:{color:"#034D57",textTransform:"uppercase",fontSize:12,letterSpacing:1.5,marginBottom:12},children:"Procurement"}),e.jsxs(C,{gutter:[12,12],children:[e.jsx(x,{icon:e.jsx(ae,{}),label:"Total RFQs",value:s==null?void 0:s.total,color:"#034D57",loading:n,onClick:()=>o("/rfq")}),e.jsx(x,{icon:e.jsx(Pe,{}),label:"Active",value:s==null?void 0:s.active,color:"#1890ff",subtitle:"open RFQs",loading:n,onClick:()=>o("/rfq?status=new,in_progress,researched")}),e.jsx(x,{icon:e.jsx(de,{}),label:"IOR",value:(X=s==null?void 0:s.byPriority)==null?void 0:X.ior,color:"#ff4d4f",subtitle:"priority",loading:n,onClick:()=>o("/rfq?priority=ior")}),e.jsx(x,{icon:e.jsx(W,{}),label:"Quoted",value:(Y=s==null?void 0:s.byStatus)==null?void 0:Y.quoted,color:"#52c41a",loading:n,onClick:()=>o("/rfq?status=quoted")}),e.jsx(x,{icon:e.jsx(ie,{}),label:"Suppliers",value:s==null?void 0:s.totalVendors,color:"#4CB480",loading:n,onClick:()=>o("/suppliers")}),e.jsx(x,{icon:e.jsx(le,{}),label:"Parts",value:s==null?void 0:s.totalParts,color:"#722ed1",loading:n,onClick:()=>o("/parts")}),e.jsx(x,{icon:e.jsx(ne,{}),label:"Opportunities",value:(r==null?void 0:r.total)??"—",color:"#fa8c16",subtitle:r!=null&&r.highPriority?`${r.highPriority} high priority`:void 0,loading:!1,onClick:()=>o("/opportunities")})]})]}),e.jsx("div",{className:"space20"}),e.jsxs("div",{style:{marginBottom:6},children:[e.jsx(g,{level:5,style:{color:"#034D57",textTransform:"uppercase",fontSize:12,letterSpacing:1.5,marginBottom:12},children:"Financial Summary"}),e.jsxs(C,{gutter:[12,12],children:[e.jsx(z,{title:"Invoices This Month",value:y==null?void 0:y.total,loading:Q,color:"#034D57",subtitle:"billed"}),e.jsx(z,{title:"Quotes This Month",value:L==null?void 0:L.total,loading:ge,color:"#1890ff",subtitle:"proposed"}),e.jsx(z,{title:"Received Payments",value:M==null?void 0:M.total,loading:ve,color:"#52c41a",subtitle:"this month"}),e.jsx(z,{title:"Unpaid Balance",value:y==null?void 0:y.total_undue,loading:Q,color:"#ff4d4f",subtitle:"outstanding"})]})]}),e.jsx("div",{className:"space20"}),e.jsxs("div",{style:{marginBottom:6},children:[e.jsx(g,{level:5,style:{color:"#034D57",textTransform:"uppercase",fontSize:12,letterSpacing:1.5,marginBottom:12},children:"HR & Payroll"}),e.jsxs(C,{gutter:[12,12],children:[e.jsx(x,{icon:e.jsx(ie,{}),label:"Total Staff",value:(c==null?void 0:c.total)??0,color:"#034D57",onClick:()=>o("/employees")}),e.jsx(x,{icon:e.jsx(W,{}),label:"Active",value:(c==null?void 0:c.active)??0,color:"#52c41a",subtitle:"employees",onClick:()=>o("/employees")}),e.jsx(x,{icon:e.jsx(he,{}),label:"Departments",value:((Z=c==null?void 0:c.byDept)==null?void 0:Z.length)??0,color:"#722ed1",subtitle:"active",onClick:()=>o("/employees")}),e.jsx(j,{xs:12,sm:12,md:6,lg:4,children:e.jsxs(O,{bodyStyle:{padding:"14px 12px",textAlign:"center"},style:{borderRadius:10,border:"1px solid #fa8c1622",cursor:"pointer"},hoverable:!0,onClick:()=>o("/payroll"),children:[e.jsx("div",{style:{fontSize:24,color:"#fa8c16",marginBottom:4},children:e.jsx(ue,{})}),e.jsx("div",{style:{fontSize:13,fontWeight:700,color:"#034D57"},children:a!=null&&a.lastPayroll?e.jsxs(ce,{color:a.lastPayroll.status==="paid"?"blue":"orange",children:[a.lastPayroll.month,"/",a.lastPayroll.year," — ",(ee=a.lastPayroll.status)==null?void 0:ee.toUpperCase()]}):e.jsx("span",{style:{color:"#aaa",fontSize:12},children:"No runs yet"})}),e.jsx("div",{style:{fontSize:11,color:"#aaa",marginTop:4},children:"Payroll"})]})}),e.jsx(x,{icon:e.jsx(Te,{}),label:"Attendance",value:((te=c==null?void 0:c.today)==null?void 0:te.present)??0,color:"#1890ff",subtitle:"present today",onClick:()=>o("/attendance")})]})]}),e.jsx("div",{className:"space20"}),v&&e.jsxs("div",{style:{marginBottom:6},children:[e.jsx(g,{level:5,style:{color:"#034D57",textTransform:"uppercase",fontSize:12,letterSpacing:1.5,marginBottom:12},children:"Business Health"}),e.jsxs(C,{gutter:[12,12],children:[e.jsx(z,{title:"AP Due (Vendor Bills)",value:v.apDue,color:"#e53e3e",subtitle:"total accounts payable"}),e.jsx(z,{title:"Expenses (All Time)",value:v.expTotal,color:"#fa8c16",subtitle:"approved + paid"}),e.jsx(z,{title:"Bank Balance (OMR)",value:v.bankBal,color:"#4CB480",subtitle:"OMR accounts only"}),e.jsx(j,{xs:12,sm:12,md:6,lg:6,children:e.jsxs(O,{style:{borderRadius:10,borderLeft:"3px solid #1890ff",cursor:"pointer"},bodyStyle:{padding:"14px 16px"},onClick:()=>o("/projects?status=active"),children:[e.jsx("div",{style:{fontSize:12,color:"#888",fontWeight:600,marginBottom:6},children:"Active Projects"}),e.jsx("div",{style:{fontSize:28,fontWeight:800,color:"#1890ff"},children:v.activeProj}),e.jsx("div",{style:{fontSize:11,color:"#aaa",marginTop:2},children:"click to view"})]})})]})]}),e.jsx("div",{className:"space30"}),e.jsxs(C,{gutter:[16,16],children:[e.jsx(j,{xs:24,lg:12,children:e.jsxs("div",{className:"whiteBox shadow pad20",style:{borderRadius:8},children:[e.jsx(g,{level:5,style:{color:"#034D57",marginBottom:12},children:"Recent Invoices"}),e.jsx(pe,{entity:"invoice",dataTableColumns:q})]})}),e.jsx(j,{xs:24,lg:12,children:e.jsxs("div",{className:"whiteBox shadow pad20",style:{borderRadius:8},children:[e.jsx(g,{level:5,style:{color:"#034D57",marginBottom:12},children:"Recent Quotes"}),e.jsx(pe,{entity:"quote",dataTableColumns:q})]})})]})]})}function ft(){return e.jsx(Je,{})}export{ft as default};
